{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { drawSymbol } from '../../common/utils/helper';\nimport { PathOption, Size } from '@syncfusion/ej2-svg-base';\nimport { Browser, extend, remove, isNullOrUndefined, Animation } from '@syncfusion/ej2-base';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { withInBounds, PointData, stopTimer, getElement } from '../../common/utils/helper';\nimport { colorNameToHex, convertHexToColor } from '../../common/utils/helper';\n/**\n * The `Marker` module is used to render markers for line-type series.\n *\n * @private\n */\nvar MarkerExplode = /** @class */function (_super) {\n  __extends(MarkerExplode, _super);\n  /**\n   * Constructor for the marker module.\n   *\n   * @private\n   */\n  function MarkerExplode(chart) {\n    var _this = _super.call(this, chart) || this;\n    _this.elementId = chart.element.id;\n    _this.commonXvalues = [];\n    return _this;\n  }\n  /**\n   * Adds event listeners for the series.\n   *\n   * @returns {void}\n   * @private\n   */\n  MarkerExplode.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n    this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n  };\n  /**\n   * Removes event listeners for the series.\n   *\n   * @private\n   *\n   * @returns {void}\n   */\n  MarkerExplode.prototype.removeEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    this.chart.off(Browser.touchEndEvent, this.mouseUpHandler);\n  };\n  /**\n   * Handles the mouse up event.\n   *\n   * @returns {void}\n   */\n  MarkerExplode.prototype.mouseUpHandler = function () {\n    var chart = this.chart;\n    if (chart.isTouch && !chart.crosshair.enable && !this.isSelected(chart) && !(this.chart.zoomModule && getElement(this.elementId + '_ZoomArea'))) {\n      this.markerMove(true);\n    }\n  };\n  /**\n   * Handles the mouse move event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MarkerExplode.prototype.mouseMoveHandler = function () {\n    var chart = this.chart;\n    if ((chart.highlightMode !== 'None' || chart.tooltip.enable) && (!chart.isTouch || chart.startMove) && !this.isSelected(chart) && !(this.chart.zoomModule && (getElement(this.elementId + '_ZoomArea') || this.chart.zoomModule.startPanning))) {\n      this.markerMove(false);\n    }\n  };\n  MarkerExplode.prototype.markerMove = function (remove) {\n    var _this = this;\n    var chart = this.chart;\n    this.currentPoints = [];\n    var data;\n    var previous;\n    var explodeSeries;\n    var series;\n    if (!chart.tooltip.shared || !chart.tooltip.enable) {\n      data = this.getData();\n      series = data.series;\n      previous = this.previousPoints[0];\n      explodeSeries = series && (series.type === 'Bubble' || series.drawType === 'Scatter' || series.type === 'Scatter' || series.type !== 'Candle' && series.type !== 'Hilo' && series.type !== 'HiloOpenClose' && series.marker.visible && series.marker.width !== 0 && series.marker.height !== 0);\n      data.lierIndex = this.lierIndex;\n      if (data.point && explodeSeries && (!previous || previous.point !== data.point || previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex)) {\n        this.currentPoints.push(data);\n      }\n      if (data.point && explodeSeries && chart.isPointMouseDown) {\n        this.currentPoints.push(data);\n      }\n      if (this.currentPoints.length === 0 && data.point && !explodeSeries && !isNullOrUndefined(previous) && previous.point !== data.point) {\n        this.removeHighlightedMarker(previous.series, previous.point);\n        this.previousPoints = extend([], data, null, true);\n      }\n      if (chart.tooltip.showNearestTooltip && this.chart.tooltipModule && this.chart.tooltipModule.currentPoints && (explodeSeries || series.type === 'Pareto' && series.paretoOptions.marker.visible) && this.currentPoints.length === 0 && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n        this.currentPoints = this.chart.tooltipModule.currentPoints;\n      }\n    } else {\n      if (!withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n        return null;\n      }\n      if (chart.tooltip.enable) {\n        var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n        if (!this.chart.tooltip.showNearestPoint) {\n          this.currentPoints = this.chart.tooltipModule.currentPoints;\n        } else {\n          for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var chartSeries = _a[_i];\n            if (!chartSeries.enableTooltip || chartSeries.category === 'Indicator') {\n              continue;\n            }\n            if (chart.chartAreaType === 'Cartesian' && chartSeries.visible) {\n              data = this.getClosestX(chart, chartSeries, this.commonXValue(this.chart.visibleSeries));\n            } else if (chart.chartAreaType === 'PolarRadar' && chartSeries.visible && pointData.point !== null) {\n              data = new PointData(chartSeries.points[pointData.point.index], chartSeries);\n            }\n            if (data) {\n              this.currentPoints.push(data);\n              data = null;\n            }\n          }\n        }\n      }\n    }\n    var length = this.previousPoints.length;\n    if (this.currentPoints.length > 0 || length > 0 && chart.tooltip.shared) {\n      if (length === 0 || chart.isPointMouseDown || length > 0 && (this.currentPoints.length === 0 || this.previousPoints[0].point !== this.currentPoints[0].point)) {\n        if (length > 0) {\n          for (var _b = 0, _c = this.previousPoints; _b < _c.length; _b++) {\n            var previousPoint = _c[_b];\n            if (!isNullOrUndefined(previousPoint)) {\n              this.removeHighlightedMarker(previousPoint.series, previousPoint.point);\n            }\n          }\n        }\n        var _loop_1 = function (data_1) {\n          if (data_1 && data_1.point || series.type !== 'Candle' && series.type !== 'Hilo' && series.type !== 'HiloOpenClose') {\n            stopTimer(this_1.markerExplode);\n            this_1.isRemove = true;\n            data_1.point.symbolLocations.map(function (location, index) {\n              if (data_1.series.marker.allowHighlight && (!data_1.series.isRectSeries || data_1.point.marker.visible)) {\n                _this.drawTrackBall(data_1.series, data_1.point, location, index);\n              }\n            });\n          }\n        };\n        var this_1 = this;\n        for (var _d = 0, _e = this.currentPoints; _d < _e.length; _d++) {\n          var data_1 = _e[_d];\n          _loop_1(data_1);\n        }\n        this.previousPoints = extend([], this.currentPoints, null, true);\n      }\n    }\n    if (!chart.tooltip.enable && (this.currentPoints.length === 0 && this.isRemove || remove && this.isRemove || !withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect))) {\n      this.isRemove = false;\n      if (!isNullOrUndefined(this.previousPoints[0])) {\n        this.markerExplode = +setTimeout(function () {\n          if (_this.previousPoints[0]) {\n            _this.removeHighlightedMarker(_this.previousPoints[0].series, _this.previousPoints[0].point);\n          }\n        }, 2000);\n      }\n    }\n    this.currentPoints = [];\n  };\n  MarkerExplode.prototype.animationDuration = function () {\n    var duration = 200;\n    if (this.chart.maxPointCount > 100) {\n      duration = 10;\n    } else if (this.chart.maxPointCount > 50) {\n      duration = 100;\n    }\n    return duration;\n  };\n  MarkerExplode.prototype.drawTrackBall = function (series, point, location, index) {\n    var marker = point.marker;\n    var seriesMarker = series.marker;\n    var shape = marker.shape || seriesMarker.shape || 'Circle';\n    var svg;\n    if (shape === 'None' || shape === 'Image') {\n      return null;\n    }\n    var element = series.symbolElement || series.seriesElement;\n    var className;\n    if (this.chart.highlightModule && this.chart.highlightMode !== 'None') {\n      className = this.chart.highlightModule.generateStyle(series);\n    }\n    if (this.chart.selectionModule && this.chart.selectionMode !== 'None') {\n      className = this.chart.selectionModule.generateStyle(series);\n    }\n    var symbolId = this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Trackball' + (index ? index : '');\n    if (getElement(symbolId + '_1') && getElement(symbolId + '_1').getAttribute('e-animate')) {\n      Animation.stop(getElement(symbolId + '_1'));\n      remove(getElement(symbolId + '_1'));\n    }\n    var size = new Size((marker.width || seriesMarker.width) + 3, (marker.height || seriesMarker.height) + 3);\n    var border = marker.border || series.border;\n    var explodeSeries = series.type === 'BoxAndWhisker' || series.type === 'Bubble' || series.type === 'Scatter';\n    var borderColor = border.color && border.color !== 'transparent' ? border.color : marker.fill || point.interior || (explodeSeries ? point.color : series.interior);\n    var colorValue = convertHexToColor(colorNameToHex(borderColor));\n    var borderWidth = marker.border ? marker.border.width : seriesMarker.border.width;\n    var markerShadow = series.chart.themeStyle.markerShadow || 'rgba(' + colorValue.r + ',' + colorValue.g + ',' + colorValue.b + ',0.2)';\n    var markerElement = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Symbol');\n    if (!isNullOrUndefined(markerElement)) {\n      markerElement.setAttribute('visibility', 'visible');\n    }\n    if (this.chart.enableCanvas) {\n      var trackElement = document.getElementById(this.chart.element.id + '_Secondary_Element');\n      svg = this.chart.svgRenderer.createSvg({\n        id: this.chart.element.id + '_trackball_svg',\n        width: this.chart.availableSize.width,\n        height: this.chart.availableSize.height\n      });\n      svg.style.cssText = 'position: absolute; display:block; pointer-events: none';\n      trackElement.appendChild(svg);\n    }\n    for (var i = 0; i < 2; i++) {\n      var options = new PathOption(symbolId + '_' + i, i ? marker.fill || point.color || (explodeSeries ? series.interior : '#ffffff') : 'transparent', borderWidth + (i ? 0 : 8), i ? borderColor : markerShadow, marker.opacity || seriesMarker.opacity, series.marker.border.dashArray, '');\n      var symbol = drawSymbol(location, shape, size, marker.imageUrl, options, '', this.chart.svgRenderer, series.clipRect);\n      // incident: 252450 point click selection not working while maker explode\n      //symbol.setAttribute('style', 'pointer-events:none');\n      symbol.setAttribute('class', this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index);\n      var selectionId = element.id.indexOf('Symbol') !== -1 ? '_Symbol' : '';\n      var seletionElem = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' + point.index + selectionId);\n      if (className !== '' && !isNullOrUndefined(className) && !isNullOrUndefined(seletionElem) && seletionElem.hasAttribute('class') && className === seletionElem.getAttribute('class')) {\n        symbol.classList.add(className);\n      }\n      symbol.setAttribute('clip-path', element.getAttribute('clip-path'));\n      symbol.setAttribute('transform', element.getAttribute('transform'));\n      if (this.chart.enableCanvas) {\n        svg.appendChild(symbol);\n      } else {\n        this.chart.svgObject.appendChild(symbol);\n      }\n      if (point.symbolLocations.length > 1 && series.marker.visible && series.type !== 'Bubble' && series.type !== 'Scatter') {\n        this.trackballAnimate(symbol, 0, this.animationDuration(), series, point.index, location, false, false);\n      }\n    }\n    if (point.symbolLocations.length < 2 && series.marker.visible) {\n      this.doAnimation(series, point, false);\n    }\n  };\n  /**\n   * Perform animation for the series.\n   *\n   * @param {Series} series - The series to animate.\n   * @param {Points} point - The point to animate.\n   * @param {boolean} [endAnimate=false] - Flag to indicate if the animation is ending.\n   * @returns {void}\n   * @private\n   */\n  MarkerExplode.prototype.doAnimation = function (series, point, endAnimate) {\n    if (endAnimate === void 0) {\n      endAnimate = false;\n    }\n    if (series.type === 'Bubble' || series.type === 'Scatter') {\n      return;\n    }\n    var duration = this.animationDuration();\n    var delay = 0;\n    var rectElements = document.getElementsByClassName(this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index);\n    for (var i = 0, len = rectElements.length; i < len; i++) {\n      this.trackballAnimate(rectElements[i], delay, duration, series, point.index, point.symbolLocations[0], false, endAnimate);\n    }\n  };\n  /**\n   * Perform animation for the trackball.\n   *\n   * @param {Element} elements - The elements to animate.\n   * @param {number} delays - The delay duration for the animation.\n   * @param {number} durations - The duration of the animation.\n   * @param {Series} series - The series associated with the trackball.\n   * @param {number} pointIndex - The index of the point to animate.\n   * @param {ChartLocation} point - The location of the point to animate.\n   * @param {boolean} isLabel - Flag to indicate if the animated element is a label.\n   * @param {boolean} [endAnimate=false] - Flag to indicate if the animation is ending.\n   * @param {boolean} [isRemove=false] - Flag to indicate if element need to remove.\n   * @returns {void}\n   * @private\n   */\n  MarkerExplode.prototype.trackballAnimate = function (elements, delays, durations, series, pointIndex, point, isLabel, endAnimate, isRemove) {\n    var centerX = point.x;\n    var centerY = point.y;\n    var clipX = series.type !== 'Polar' && series.type !== 'Radar' ? series.clipRect.x : 0;\n    var clipY = series.type !== 'Polar' && series.type !== 'Radar' ? series.clipRect.y : 0;\n    // let height: number = 0;\n    //(<HTMLElement>elements).style.visibility = 'hidden';\n    var transform = elements.getAttribute('transform');\n    var scaleX = series.marker.width / (series.marker.width + 3);\n    var scaleY = series.marker.height / (series.marker.height + 3);\n    var scaleValue = Math.min(scaleX, scaleY);\n    if (!isRemove) {\n      elements.setAttribute('transform', \"translate(\" + (centerX + clipX) + \" \" + (centerY + clipY) + \") scale(\" + scaleValue + \") translate(\" + -centerX + \" \" + -centerY + \")\");\n    }\n    new Animation({}).animate(elements, {\n      duration: durations,\n      delay: delays,\n      progress: function (args) {\n        args.element.style.animation = '';\n        if (args.timeStamp > args.delay) {\n          if (!series.visible && isRemove) {\n            remove(elements);\n            return;\n          }\n          var progress = args.timeStamp / args.duration;\n          var currentScale = isRemove ? Math.max(scaleValue, 1 - (1 - scaleValue) * progress) : Math.min(1, scaleValue + (1 - scaleValue) * progress);\n          elements.setAttribute('transform', \"translate(\" + (centerX + clipX) + \" \" + (centerY + clipY) + \") scale(\" + currentScale + \") translate(\" + -centerX + \" \" + -centerY + \")\");\n        }\n      },\n      end: function () {\n        elements.style.visibility = '';\n        elements.setAttribute('transform', transform);\n        if (!isLabel && pointIndex === series.points.length - 1) {\n          series.chart.trigger('animationComplete', {\n            series: series.chart.isBlazor ? {} : series\n          });\n        }\n        if (isRemove || endAnimate) {\n          remove(elements);\n        }\n      }\n    });\n  };\n  /**\n   * Remove the highlighted marker.\n   *\n   * @param {Series} [series=null] - The series associated with the marker to remove. Defaults to null.\n   * @param {Points} [point=null] - The point associated with the marker to remove. Defaults to null.\n   * @param {boolean} [fadeOut=false] - Flag to indicate if the removal should be faded out. Defaults to false.\n   * @returns {void}\n   * @private\n   */\n  MarkerExplode.prototype.removeHighlightedMarker = function (series, point, fadeOut) {\n    if (series === void 0) {\n      series = null;\n    }\n    if (point === void 0) {\n      point = null;\n    }\n    if (fadeOut === void 0) {\n      fadeOut = false;\n    }\n    if (!isNullOrUndefined(series) && !isNullOrUndefined(point)) {\n      var markerElement = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Symbol');\n      var trackballElements = document.getElementsByClassName(this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index);\n      if (trackballElements.length === 0) {\n        var elements = document.querySelectorAll(\"[class*=\\\"\" + (this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index) + \"\\\"]\");\n        if (elements[1]) {\n          elements[1].remove();\n        }\n        if (elements[0]) {\n          elements[0].remove();\n        }\n      }\n      for (var i = trackballElements.length - 1; i >= 0; i--) {\n        if (!series.marker.visible || trackballElements[i] && trackballElements[i].id[trackballElements[i].id.length - 1] === '0') {\n          remove(trackballElements[i]);\n        }\n      }\n      for (var i = trackballElements.length - 1; i >= 0; i--) {\n        if (trackballElements[i] && trackballElements[i].id[trackballElements[i].id.length - 1] === '1' && series.type !== 'Bubble' && series.type !== 'Scatter' && series.marker.visible) {\n          trackballElements[i].setAttribute('opacity', markerElement ? markerElement.getAttribute('opacity') : trackballElements[i].getAttribute('opacity'));\n          this.trackballAnimate(trackballElements[i], 0, this.animationDuration(), series, point.index, point.symbolLocations[i], null, null, true);\n        }\n      }\n      if (!isNullOrUndefined(markerElement)) {\n        markerElement.setAttribute('visibility', 'visible');\n      }\n    } else {\n      for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n        var point_1 = _a[_i];\n        var elements = document.getElementsByClassName(this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point_1.index);\n        var markerElement = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' + point_1.index + '_Symbol');\n        for (var i = 0, len = elements.length; i < len; i++) {\n          if (!isNullOrUndefined(markerElement)) {\n            markerElement.setAttribute('visibility', 'visible');\n          }\n          remove(elements[0]);\n        }\n      }\n    }\n    if (fadeOut) {\n      this.previousPoints = [];\n    }\n  };\n  return MarkerExplode;\n}(ChartData);\nexport { MarkerExplode };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","drawSymbol","PathOption","Size","Browser","extend","remove","isNullOrUndefined","Animation","ChartData","withInBounds","PointData","stopTimer","getElement","colorNameToHex","convertHexToColor","MarkerExplode","_super","chart","_this","call","elementId","element","id","commonXvalues","addEventListener","isDestroyed","on","touchMoveEvent","mouseMoveHandler","touchEndEvent","mouseUpHandler","removeEventListener","off","isTouch","crosshair","enable","isSelected","zoomModule","markerMove","highlightMode","tooltip","startMove","startPanning","currentPoints","data","previous","explodeSeries","series","shared","getData","previousPoints","type","drawType","marker","visible","width","height","lierIndex","point","push","isPointMouseDown","length","removeHighlightedMarker","showNearestTooltip","tooltipModule","paretoOptions","mouseX","mouseY","chartAxisLayoutPanel","seriesClipRect","pointData","chartAreaType","showNearestPoint","_i","_a","visibleSeries","chartSeries","enableTooltip","category","getClosestX","commonXValue","points","index","_b","_c","previousPoint","_loop_1","data_1","this_1","markerExplode","isRemove","symbolLocations","map","location","allowHighlight","isRectSeries","drawTrackBall","_d","_e","setTimeout","animationDuration","duration","maxPointCount","seriesMarker","shape","svg","symbolElement","seriesElement","className","highlightModule","generateStyle","selectionModule","selectionMode","symbolId","getAttribute","stop","size","border","borderColor","color","fill","interior","colorValue","borderWidth","markerShadow","themeStyle","r","g","markerElement","document","getElementById","setAttribute","enableCanvas","trackElement","svgRenderer","createSvg","availableSize","style","cssText","appendChild","i","options","opacity","dashArray","symbol","imageUrl","clipRect","selectionId","indexOf","seletionElem","hasAttribute","classList","add","svgObject","trackballAnimate","doAnimation","endAnimate","delay","rectElements","getElementsByClassName","len","elements","delays","durations","pointIndex","isLabel","centerX","x","centerY","y","clipX","clipY","transform","scaleX","scaleY","scaleValue","Math","min","animate","progress","args","animation","timeStamp","currentScale","max","end","visibility","trigger","isBlazor","fadeOut","trackballElements","querySelectorAll","point_1"],"sources":["C:/Users/mkfun/Desktop/ct assignment/admin/node_modules/@syncfusion/ej2-charts/src/chart/series/marker-explode.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol } from '../../common/utils/helper';\nimport { PathOption, Size } from '@syncfusion/ej2-svg-base';\nimport { Browser, extend, remove, isNullOrUndefined, Animation } from '@syncfusion/ej2-base';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { withInBounds, PointData, stopTimer, getElement } from '../../common/utils/helper';\nimport { colorNameToHex, convertHexToColor } from '../../common/utils/helper';\n/**\n * The `Marker` module is used to render markers for line-type series.\n *\n * @private\n */\nvar MarkerExplode = /** @class */ (function (_super) {\n    __extends(MarkerExplode, _super);\n    /**\n     * Constructor for the marker module.\n     *\n     * @private\n     */\n    function MarkerExplode(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.elementId = chart.element.id;\n        _this.commonXvalues = [];\n        return _this;\n    }\n    /**\n     * Adds event listeners for the series.\n     *\n     * @returns {void}\n     * @private\n     */\n    MarkerExplode.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    /**\n     * Removes event listeners for the series.\n     *\n     * @private\n     *\n     * @returns {void}\n     */\n    MarkerExplode.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.chart.off(Browser.touchEndEvent, this.mouseUpHandler);\n    };\n    /**\n     * Handles the mouse up event.\n     *\n     * @returns {void}\n     */\n    MarkerExplode.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch && !chart.crosshair.enable && !this.isSelected(chart) && !(this.chart.zoomModule && getElement(this.elementId + '_ZoomArea'))) {\n            this.markerMove(true);\n        }\n    };\n    /**\n     * Handles the mouse move event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MarkerExplode.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        if ((chart.highlightMode !== 'None' || (chart.tooltip.enable)) && (!chart.isTouch || chart.startMove) && !this.isSelected(chart)\n            && !(this.chart.zoomModule && (getElement(this.elementId + '_ZoomArea') || this.chart.zoomModule.startPanning))) {\n            this.markerMove(false);\n        }\n    };\n    MarkerExplode.prototype.markerMove = function (remove) {\n        var _this = this;\n        var chart = this.chart;\n        this.currentPoints = [];\n        var data;\n        var previous;\n        var explodeSeries;\n        var series;\n        if (!chart.tooltip.shared || !chart.tooltip.enable) {\n            data = this.getData();\n            series = data.series;\n            previous = this.previousPoints[0];\n            explodeSeries = series && ((series.type === 'Bubble' || series.drawType === 'Scatter' || series.type === 'Scatter') ||\n                (((series.type !== 'Candle') && (series.type !== 'Hilo') && (series.type !== 'HiloOpenClose')) &&\n                    (series.marker.visible && series.marker.width !== 0 && series.marker.height !== 0)));\n            data.lierIndex = this.lierIndex;\n            if (data.point && explodeSeries && ((!previous || (previous.point !== data.point)) ||\n                (previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex))) {\n                this.currentPoints.push(data);\n            }\n            if (data.point && explodeSeries && chart.isPointMouseDown) {\n                this.currentPoints.push(data);\n            }\n            if (this.currentPoints.length === 0 && data.point && !explodeSeries && !isNullOrUndefined(previous) &&\n                previous.point !== data.point) {\n                this.removeHighlightedMarker(previous.series, previous.point);\n                this.previousPoints = extend([], data, null, true);\n            }\n            if (chart.tooltip.showNearestTooltip && this.chart.tooltipModule && this.chart.tooltipModule.currentPoints && (explodeSeries || (series.type === 'Pareto' && series.paretoOptions.marker.visible)) &&\n                this.currentPoints.length === 0 && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                this.currentPoints = this.chart.tooltipModule.currentPoints;\n            }\n        }\n        else {\n            if (!withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                return null;\n            }\n            if (chart.tooltip.enable) {\n                var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n                if (!this.chart.tooltip.showNearestPoint) {\n                    this.currentPoints = this.chart.tooltipModule.currentPoints;\n                }\n                else {\n                    for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                        var chartSeries = _a[_i];\n                        if (!chartSeries.enableTooltip || chartSeries.category === 'Indicator') {\n                            continue;\n                        }\n                        if (chart.chartAreaType === 'Cartesian' && chartSeries.visible) {\n                            data = this.getClosestX(chart, chartSeries, this.commonXValue(this.chart.visibleSeries));\n                        }\n                        else if (chart.chartAreaType === 'PolarRadar' && chartSeries.visible && pointData.point !== null) {\n                            data = new PointData(chartSeries.points[pointData.point.index], chartSeries);\n                        }\n                        if (data) {\n                            this.currentPoints.push(data);\n                            data = null;\n                        }\n                    }\n                }\n            }\n        }\n        var length = this.previousPoints.length;\n        if (this.currentPoints.length > 0 || (length > 0 && chart.tooltip.shared)) {\n            if (length === 0 || chart.isPointMouseDown || (length > 0 && (this.currentPoints.length === 0 ||\n                (this.previousPoints[0].point !== this.currentPoints[0].point)))) {\n                if (length > 0) {\n                    for (var _b = 0, _c = this.previousPoints; _b < _c.length; _b++) {\n                        var previousPoint = _c[_b];\n                        if (!isNullOrUndefined(previousPoint)) {\n                            this.removeHighlightedMarker(previousPoint.series, previousPoint.point);\n                        }\n                    }\n                }\n                var _loop_1 = function (data_1) {\n                    if ((data_1 && data_1.point) || ((series.type !== 'Candle') &&\n                        (series.type !== 'Hilo') && (series.type !== 'HiloOpenClose'))) {\n                        stopTimer(this_1.markerExplode);\n                        this_1.isRemove = true;\n                        data_1.point.symbolLocations.map(function (location, index) {\n                            if (data_1.series.marker.allowHighlight && (!data_1.series.isRectSeries || data_1.point.marker.visible)) {\n                                _this.drawTrackBall(data_1.series, data_1.point, location, index);\n                            }\n                        });\n                    }\n                };\n                var this_1 = this;\n                for (var _d = 0, _e = this.currentPoints; _d < _e.length; _d++) {\n                    var data_1 = _e[_d];\n                    _loop_1(data_1);\n                }\n                this.previousPoints = extend([], this.currentPoints, null, true);\n            }\n        }\n        if (!chart.tooltip.enable && ((this.currentPoints.length === 0 && this.isRemove) || (remove && this.isRemove) ||\n            !withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect))) {\n            this.isRemove = false;\n            if (!isNullOrUndefined(this.previousPoints[0])) {\n                this.markerExplode = +setTimeout(function () {\n                    if (_this.previousPoints[0]) {\n                        _this.removeHighlightedMarker(_this.previousPoints[0].series, _this.previousPoints[0].point);\n                    }\n                }, 2000);\n            }\n        }\n        this.currentPoints = [];\n    };\n    MarkerExplode.prototype.animationDuration = function () {\n        var duration = 200;\n        if (this.chart.maxPointCount > 100) {\n            duration = 10;\n        }\n        else if (this.chart.maxPointCount > 50) {\n            duration = 100;\n        }\n        return duration;\n    };\n    MarkerExplode.prototype.drawTrackBall = function (series, point, location, index) {\n        var marker = point.marker;\n        var seriesMarker = series.marker;\n        var shape = marker.shape || seriesMarker.shape || 'Circle';\n        var svg;\n        if (shape === 'None' || shape === 'Image') {\n            return null;\n        }\n        var element = series.symbolElement || series.seriesElement;\n        var className;\n        if (this.chart.highlightModule && this.chart.highlightMode !== 'None') {\n            className = this.chart.highlightModule.generateStyle(series);\n        }\n        if (this.chart.selectionModule && this.chart.selectionMode !== 'None') {\n            className = this.chart.selectionModule.generateStyle(series);\n        }\n        var symbolId = this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Trackball' +\n            (index ? index : '');\n        if (getElement(symbolId + '_1') && getElement(symbolId + '_1').getAttribute('e-animate')) {\n            Animation.stop(getElement(symbolId + '_1'));\n            remove(getElement(symbolId + '_1'));\n        }\n        var size = new Size((marker.width || seriesMarker.width) + 3, (marker.height || seriesMarker.height) + 3);\n        var border = (marker.border || series.border);\n        var explodeSeries = (series.type === 'BoxAndWhisker' || series.type === 'Bubble' || series.type === 'Scatter');\n        var borderColor = (border.color && border.color !== 'transparent') ? border.color :\n            marker.fill || point.interior || (explodeSeries ? point.color : series.interior);\n        var colorValue = convertHexToColor(colorNameToHex(borderColor));\n        var borderWidth = marker.border ? marker.border.width : seriesMarker.border.width;\n        var markerShadow = series.chart.themeStyle.markerShadow ||\n            'rgba(' + colorValue.r + ',' + colorValue.g + ',' + colorValue.b + ',0.2)';\n        var markerElement = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' +\n            point.index + '_Symbol');\n        if (!isNullOrUndefined(markerElement)) {\n            markerElement.setAttribute('visibility', 'visible');\n        }\n        if (this.chart.enableCanvas) {\n            var trackElement = document.getElementById(this.chart.element.id + '_Secondary_Element');\n            svg = this.chart.svgRenderer.createSvg({\n                id: this.chart.element.id + '_trackball_svg',\n                width: this.chart.availableSize.width,\n                height: this.chart.availableSize.height\n            });\n            svg.style.cssText = 'position: absolute; display:block; pointer-events: none';\n            trackElement.appendChild(svg);\n        }\n        for (var i = 0; i < 2; i++) {\n            var options = new PathOption(symbolId + '_' + i, i ? (marker.fill || point.color || (explodeSeries ? series.interior : '#ffffff')) : 'transparent', borderWidth + (i ? 0 : 8), i ? borderColor : markerShadow, (marker.opacity || seriesMarker.opacity), series.marker.border.dashArray, '');\n            var symbol = drawSymbol(location, shape, size, marker.imageUrl, options, '', this.chart.svgRenderer, series.clipRect);\n            // incident: 252450 point click selection not working while maker explode\n            //symbol.setAttribute('style', 'pointer-events:none');\n            symbol.setAttribute('class', this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index);\n            var selectionId = element.id.indexOf('Symbol') !== -1 ? '_Symbol' : '';\n            var seletionElem = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' +\n                point.index + selectionId);\n            if (className !== '' && !isNullOrUndefined(className) && !isNullOrUndefined(seletionElem) &&\n                seletionElem.hasAttribute('class') && (className === seletionElem.getAttribute('class'))) {\n                symbol.classList.add(className);\n            }\n            symbol.setAttribute('clip-path', element.getAttribute('clip-path'));\n            symbol.setAttribute('transform', element.getAttribute('transform'));\n            if (this.chart.enableCanvas) {\n                svg.appendChild(symbol);\n            }\n            else {\n                this.chart.svgObject.appendChild(symbol);\n            }\n            if (point.symbolLocations.length > 1 && series.marker.visible && (series.type !== 'Bubble' && series.type !== 'Scatter')) {\n                this.trackballAnimate(symbol, 0, this.animationDuration(), series, point.index, location, false, false);\n            }\n        }\n        if (point.symbolLocations.length < 2 && series.marker.visible) {\n            this.doAnimation(series, point, false);\n        }\n    };\n    /**\n     * Perform animation for the series.\n     *\n     * @param {Series} series - The series to animate.\n     * @param {Points} point - The point to animate.\n     * @param {boolean} [endAnimate=false] - Flag to indicate if the animation is ending.\n     * @returns {void}\n     * @private\n     */\n    MarkerExplode.prototype.doAnimation = function (series, point, endAnimate) {\n        if (endAnimate === void 0) { endAnimate = false; }\n        if (series.type === 'Bubble' || series.type === 'Scatter') {\n            return;\n        }\n        var duration = this.animationDuration();\n        var delay = 0;\n        var rectElements = document.getElementsByClassName(this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index);\n        for (var i = 0, len = rectElements.length; i < len; i++) {\n            this.trackballAnimate(rectElements[i], delay, duration, series, point.index, point.symbolLocations[0], false, endAnimate);\n        }\n    };\n    /**\n     * Perform animation for the trackball.\n     *\n     * @param {Element} elements - The elements to animate.\n     * @param {number} delays - The delay duration for the animation.\n     * @param {number} durations - The duration of the animation.\n     * @param {Series} series - The series associated with the trackball.\n     * @param {number} pointIndex - The index of the point to animate.\n     * @param {ChartLocation} point - The location of the point to animate.\n     * @param {boolean} isLabel - Flag to indicate if the animated element is a label.\n     * @param {boolean} [endAnimate=false] - Flag to indicate if the animation is ending.\n     * @param {boolean} [isRemove=false] - Flag to indicate if element need to remove.\n     * @returns {void}\n     * @private\n     */\n    MarkerExplode.prototype.trackballAnimate = function (elements, delays, durations, series, pointIndex, point, isLabel, endAnimate, isRemove) {\n        var centerX = point.x;\n        var centerY = point.y;\n        var clipX = (series.type !== 'Polar' && series.type !== 'Radar') ? series.clipRect.x : 0;\n        var clipY = (series.type !== 'Polar' && series.type !== 'Radar') ? series.clipRect.y : 0;\n        // let height: number = 0;\n        //(<HTMLElement>elements).style.visibility = 'hidden';\n        var transform = elements.getAttribute('transform');\n        var scaleX = (series.marker.width / (series.marker.width + 3));\n        var scaleY = (series.marker.height / (series.marker.height + 3));\n        var scaleValue = Math.min(scaleX, scaleY);\n        if (!isRemove) {\n            elements.setAttribute('transform', \"translate(\" + (centerX + clipX) + \" \" + (centerY + clipY) + \") scale(\" + scaleValue + \") translate(\" + -centerX + \" \" + -centerY + \")\");\n        }\n        new Animation({}).animate(elements, {\n            duration: durations,\n            delay: delays,\n            progress: function (args) {\n                args.element.style.animation = '';\n                if (args.timeStamp > args.delay) {\n                    if (!series.visible && isRemove) {\n                        remove(elements);\n                        return;\n                    }\n                    var progress = args.timeStamp / args.duration;\n                    var currentScale = isRemove\n                        ? Math.max(scaleValue, 1 - ((1 - scaleValue) * progress))\n                        : Math.min(1, scaleValue + ((1 - scaleValue) * progress));\n                    elements.setAttribute('transform', \"translate(\" + (centerX + clipX) + \" \" + (centerY + clipY) + \") scale(\" + currentScale + \") translate(\" + -centerX + \" \" + -centerY + \")\");\n                }\n            },\n            end: function () {\n                elements.style.visibility = '';\n                elements.setAttribute('transform', transform);\n                if (!isLabel && (pointIndex === series.points.length - 1)) {\n                    series.chart.trigger('animationComplete', { series: series.chart.isBlazor ? {} : series });\n                }\n                if (isRemove || endAnimate) {\n                    remove(elements);\n                }\n            }\n        });\n    };\n    /**\n     * Remove the highlighted marker.\n     *\n     * @param {Series} [series=null] - The series associated with the marker to remove. Defaults to null.\n     * @param {Points} [point=null] - The point associated with the marker to remove. Defaults to null.\n     * @param {boolean} [fadeOut=false] - Flag to indicate if the removal should be faded out. Defaults to false.\n     * @returns {void}\n     * @private\n     */\n    MarkerExplode.prototype.removeHighlightedMarker = function (series, point, fadeOut) {\n        if (series === void 0) { series = null; }\n        if (point === void 0) { point = null; }\n        if (fadeOut === void 0) { fadeOut = false; }\n        if (!isNullOrUndefined(series) && !isNullOrUndefined(point)) {\n            var markerElement = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' +\n                point.index + '_Symbol');\n            var trackballElements = document.getElementsByClassName(this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index);\n            if (trackballElements.length === 0) {\n                var elements = document.querySelectorAll(\"[class*=\\\"\" + (this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point.index) + \"\\\"]\");\n                if (elements[1]) {\n                    elements[1].remove();\n                }\n                if (elements[0]) {\n                    elements[0].remove();\n                }\n            }\n            for (var i = trackballElements.length - 1; i >= 0; i--) {\n                if (!series.marker.visible || trackballElements[i] && trackballElements[i].id[trackballElements[i].id.length - 1] === '0') {\n                    remove(trackballElements[i]);\n                }\n            }\n            for (var i = trackballElements.length - 1; i >= 0; i--) {\n                if (trackballElements[i] && trackballElements[i].id[trackballElements[i].id.length - 1] === '1' && (series.type !== 'Bubble' && series.type !== 'Scatter') && series.marker.visible) {\n                    trackballElements[i].setAttribute('opacity', markerElement ? markerElement.getAttribute('opacity') : trackballElements[i].getAttribute('opacity'));\n                    this.trackballAnimate(trackballElements[i], 0, this.animationDuration(), series, point.index, point.symbolLocations[i], null, null, true);\n                }\n            }\n            if (!isNullOrUndefined(markerElement)) {\n                markerElement.setAttribute('visibility', 'visible');\n            }\n        }\n        else {\n            for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n                var point_1 = _a[_i];\n                var elements = document.getElementsByClassName(this.elementId + '_EJ2-Trackball_Series_' + series.index + '_Point_' + point_1.index);\n                var markerElement = document.getElementById(this.elementId + '_Series_' + series.index + '_Point_' +\n                    point_1.index + '_Symbol');\n                for (var i = 0, len = elements.length; i < len; i++) {\n                    if (!isNullOrUndefined(markerElement)) {\n                        markerElement.setAttribute('visibility', 'visible');\n                    }\n                    remove(elements[0]);\n                }\n            }\n        }\n        if (fadeOut) {\n            this.previousPoints = [];\n        }\n    };\n    return MarkerExplode;\n}(ChartData));\nexport { MarkerExplode };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}