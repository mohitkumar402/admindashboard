{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable security/detect-object-injection */\n/* eslint-disable no-useless-escape */\n/* eslint-disable security/detect-non-literal-regexp */\n/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable jsdoc/require-returns */\n/* eslint-disable valid-jsdoc */\nimport { NotifyPropertyChanges, Property, Event, Complex, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { extend, compile as templateComplier, Component, resetBlazorTemplate, isBlazor, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '../svg-render/index';\nimport { ChildProperty, createElement, remove, Browser, Animation, animationMode } from '@syncfusion/ej2-base';\nimport { getTooltipThemeColor } from './interface';\nimport { Size, Rect, Side, measureText, getElement, findDirection, drawSymbol, textElement } from './helper';\nimport { removeElement, TextOption, TooltipLocation, PathOption, withInAreaBounds } from './helper';\n/**\n * Configures the fonts in charts.\n *\n * @private\n */\nvar TextStyle = /** @class */function (_super) {\n  __extends(TextStyle, _super);\n  function TextStyle() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(null)], TextStyle.prototype, \"size\", void 0);\n  __decorate([Property('')], TextStyle.prototype, \"color\", void 0);\n  __decorate([Property('Segoe UI')], TextStyle.prototype, \"fontFamily\", void 0);\n  __decorate([Property('Normal')], TextStyle.prototype, \"fontWeight\", void 0);\n  __decorate([Property('Normal')], TextStyle.prototype, \"fontStyle\", void 0);\n  __decorate([Property(1)], TextStyle.prototype, \"opacity\", void 0);\n  __decorate([Property(null)], TextStyle.prototype, \"headerTextSize\", void 0);\n  __decorate([Property(null)], TextStyle.prototype, \"boldTextSize\", void 0);\n  return TextStyle;\n}(ChildProperty);\nexport { TextStyle };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar TooltipBorder = /** @class */function (_super) {\n  __extends(TooltipBorder, _super);\n  function TooltipBorder() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('')], TooltipBorder.prototype, \"color\", void 0);\n  __decorate([Property(1)], TooltipBorder.prototype, \"width\", void 0);\n  __decorate([Property('')], TooltipBorder.prototype, \"dashArray\", void 0);\n  return TooltipBorder;\n}(ChildProperty);\nexport { TooltipBorder };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar AreaBounds = /** @class */function (_super) {\n  __extends(AreaBounds, _super);\n  function AreaBounds() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(0)], AreaBounds.prototype, \"x\", void 0);\n  __decorate([Property(0)], AreaBounds.prototype, \"y\", void 0);\n  __decorate([Property(0)], AreaBounds.prototype, \"width\", void 0);\n  __decorate([Property(0)], AreaBounds.prototype, \"height\", void 0);\n  return AreaBounds;\n}(ChildProperty);\nexport { AreaBounds };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar ToolLocation = /** @class */function (_super) {\n  __extends(ToolLocation, _super);\n  function ToolLocation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(0)], ToolLocation.prototype, \"x\", void 0);\n  __decorate([Property(0)], ToolLocation.prototype, \"y\", void 0);\n  return ToolLocation;\n}(ChildProperty);\nexport { ToolLocation };\n/**\n * Represents the Tooltip control.\n * ```html\n * <div id=\"tooltip\"/>\n * <script>\n *   var tooltipObj = new Tooltip({ isResponsive : true });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n *\n * @private\n */\nvar Tooltip = /** @class */function (_super) {\n  __extends(Tooltip, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @hidden\n   */\n  function Tooltip(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler.\n   *\n   * @private\n   */\n  Tooltip.prototype.preRender = function () {\n    this.allowServerDataBinding = false;\n    this.initPrivateVariable();\n    if (!this.isCanvas) {\n      this.removeSVG();\n    }\n    this.createTooltipElement();\n  };\n  Tooltip.prototype.initPrivateVariable = function () {\n    this.renderer = new SvgRenderer(this.element.id);\n    this.themeStyle = getTooltipThemeColor(this.theme);\n    this.formattedText = [];\n    this.padding = 5;\n    this.highlightPadding = 3;\n    this.areaMargin = 10;\n    this.isFirst = true;\n    this.markerPoint = [];\n  };\n  Tooltip.prototype.removeSVG = function () {\n    var svgObject = document.getElementById(this.element.id + '_svg');\n    var templateObject = document.getElementById(this.element.id + 'parent_template');\n    if (this.blazorTemplate) {\n      resetBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate');\n    }\n    if (svgObject && svgObject.parentNode) {\n      remove(svgObject);\n    }\n    if (templateObject && templateObject.parentNode) {\n      remove(templateObject);\n    }\n  };\n  /**\n   * To Initialize the control rendering.\n   */\n  Tooltip.prototype.render = function () {\n    this.fadeOuted = false;\n    if (!this.template) {\n      this.renderText(this.isFirst);\n      var argsData = {\n        cancel: false,\n        name: 'tooltipRender',\n        tooltip: this\n      };\n      this.trigger('tooltipRender', argsData);\n      var markerSide = this.renderTooltipElement(this.areaBounds, this.location);\n      this.drawMarker(markerSide.isBottom, markerSide.isRight, this.markerSize);\n    } else {\n      this.updateTemplateFn();\n      this.createTemplate(this.areaBounds, this.location);\n    }\n    this.trigger('loaded', {\n      tooltip: this\n    });\n    var element = document.getElementById('chartmeasuretext');\n    if (element) {\n      remove(element);\n    }\n    this.allowServerDataBinding = true;\n  };\n  Tooltip.prototype.createTooltipElement = function () {\n    this.textElements = [];\n    if (!this.template || this.shared) {\n      // SVG element for tooltip\n      if (this.enableRTL) {\n        this.element.setAttribute('dir', 'ltr');\n      }\n      var svgObject = this.renderer.createSvg({\n        id: this.element.id + '_svg'\n      });\n      this.element.appendChild(svgObject);\n      // Group to hold text and path.\n      var groupElement = document.getElementById(this.element.id + '_group');\n      if (!groupElement) {\n        groupElement = this.renderer.createGroup({\n          id: this.element.id + '_group'\n        });\n        groupElement.setAttribute('transform', 'translate(0,0)');\n      }\n      svgObject.appendChild(groupElement);\n      var pathElement = this.renderer.drawPath({\n        'id': this.element.id + '_path',\n        'stroke-width': (this.theme === 'Fabric' || this.theme === 'Fluent' || this.theme === 'Fluent2' || this.theme === 'Fluent2HighContrast') && !this.border.width ? 1 : this.border.width,\n        'fill': this.fill || this.themeStyle.tooltipFill,\n        'opacity': (this.theme === 'TailwindDark' || this.theme === 'Tailwind' || this.theme === 'Tailwind3Dark' || this.theme === 'Tailwind3' || this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark' || this.theme.indexOf('Fluent2') > -1) && this.opacity === 0.75 ? 1 : this.opacity,\n        'stroke': this.border.color || (this.theme === 'Fabric' || this.theme === 'Fluent' || this.theme === 'Fluent2' ? '#D2D0CE' : this.border.color)\n      });\n      groupElement.appendChild(pathElement);\n    }\n  };\n  Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n    if (this.shapes.length <= 0) {\n      return null;\n    }\n    var shapeOption;\n    var count = 0;\n    var markerGroup = this.renderer.createGroup({\n      id: this.element.id + '_trackball_group'\n    });\n    var groupElement = getElement(this.element.id + '_group');\n    if (!groupElement) {\n      return null;\n    }\n    var x = (this.enableRTL ? this.elementSize.width - size / 2 : this.marginX * 2 + size / 2) + (isRight ? this.arrowPadding : 0);\n    for (var _i = 0, _a = this.shapes; _i < _a.length; _i++) {\n      var shape = _a[_i];\n      if (shape !== 'None') {\n        shapeOption = new PathOption(this.element.id + '_Trackball_' + count, this.palette[count], 1, '#cccccc', 1, null);\n        if (this.markerPoint[count]) {\n          var padding = 0;\n          if (this.header.indexOf('<br') > -1) {\n            padding = this.header.split(/<br.*?>/g).length + count;\n          }\n          var tooltipContent = this.formattedText && this.formattedText.length >= 2 ? this.getTooltipTextContent(this.formattedText[1]) + \", \" + this.getTooltipTextContent(this.formattedText[0]) : '';\n          markerGroup.appendChild(drawSymbol(new TooltipLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : padding)), shape, new Size(size, size), '', shapeOption, 'img', tooltipContent));\n        }\n        count++;\n      }\n    }\n    groupElement.appendChild(markerGroup);\n  };\n  Tooltip.prototype.renderTooltipElement = function (areaBounds, location) {\n    var tooltipDiv = getElement(this.element.id);\n    var arrowLocation = new TooltipLocation(0, 0);\n    var tipLocation = new TooltipLocation(0, 0);\n    var svgObject = getElement(this.element.id + '_svg');\n    var groupElement = getElement(this.element.id + '_group');\n    var pathElement = getElement(this.element.id + '_path');\n    var rect;\n    var isTop = false;\n    var isLeft = false;\n    var isBottom = false;\n    var x = 0;\n    var y = 0;\n    if (!isNullOrUndefined(groupElement)) {\n      if (this.header !== '' && this.showHeaderLine) {\n        this.elementSize.height += this.marginY;\n      }\n      if (this.isFixed) {\n        var width = this.elementSize.width + 2 * this.marginX;\n        var height = this.elementSize.height + 2 * this.marginY;\n        rect = new Rect(location.x, location.y, width, height);\n      } else if (this.content.length > 1) {\n        rect = this.sharedTooltipLocation(areaBounds, this.location.x, this.location.y);\n        isTop = true;\n      } else {\n        rect = this.tooltipLocation(areaBounds, location, arrowLocation, tipLocation);\n        if (!this.inverted) {\n          isTop = rect.y < location.y + this.clipBounds.y;\n          isBottom = !isTop;\n          y = isTop ? 0 : this.arrowPadding;\n        } else {\n          isLeft = rect.x < location.x + this.clipBounds.x;\n          x = isLeft ? 0 : this.arrowPadding;\n          if (this.allowHighlight) {\n            rect.x += isLeft ? this.highlightPadding : -(2 * this.highlightPadding);\n          }\n        }\n      }\n      if (this.header !== '' && this.showHeaderLine) {\n        var wrapPadding = 2;\n        var padding = 0;\n        var wrapHeader = this.isWrap ? this.wrappedText : this.header;\n        if (this.isWrap && typeof wrapHeader === 'string' && (wrapHeader.indexOf('<') > -1 || wrapHeader.indexOf('>') > -1)) {\n          var textArray = wrapHeader.split('<br>');\n          wrapPadding = textArray.length;\n        }\n        if (this.header.indexOf('<br') > -1) {\n          padding = 5 * (this.header.split(/<br.*?>/g).length - 1);\n        }\n        var key = 'properties';\n        var font = extend({}, this.textStyle, null, true)[key];\n        var headerSize = measureText(this.isWrap ? this.wrappedText : this.header, font, this.themeStyle.textStyle).height + this.marginY * wrapPadding + (isBottom ? this.arrowPadding : 0) + (this.isWrap ? 5 : padding); //header padding;\n        var xLength = this.marginX * 3 + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n        var direction = 'M ' + xLength + ' ' + headerSize + 'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - this.marginX * 2) + ' ' + headerSize;\n        var pathElement_1 = this.renderer.drawPath({\n          'id': this.element.id + '_header_path',\n          'stroke-width': 1,\n          'fill': null,\n          'opacity': this.theme === 'Material3' || this.theme === 'Material3Dark' ? 0.2 : 0.8,\n          'stroke': this.themeStyle.tooltipHeaderLine,\n          'd': direction\n        });\n        groupElement.appendChild(pathElement_1);\n      }\n      var start = this.border.width / 2;\n      var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n      groupElement.setAttribute('opacity', '1');\n      if (this.enableAnimation && !this.isFirst && !this.crosshair) {\n        this.animateTooltipDiv(tooltipDiv, rect);\n      } else {\n        this.updateDiv(tooltipDiv, rect.x, rect.y);\n      }\n      // eslint-disable-next-line no-extra-boolean-cast\n      svgObject.setAttribute('height', (rect.height + this.border.width + (!!this.inverted ? 0 : this.arrowPadding) + 5).toString());\n      svgObject.setAttribute('width', (rect.width + this.border.width + (!this.inverted ? 0 : this.arrowPadding) + 5).toString());\n      svgObject.setAttribute('opacity', '1');\n      if (!isNullOrUndefined(this.tooltipPlacement)) {\n        isTop = this.tooltipPlacement.indexOf('Top') > -1;\n        isBottom = this.tooltipPlacement.indexOf('Bottom') > -1;\n        isLeft = this.tooltipPlacement.indexOf('Left') > -1;\n      }\n      pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.controlName));\n      if (this.enableShadow && this.theme !== 'Bootstrap4' || this.theme.indexOf('Fluent2') > -1) {\n        // To fix next chart initial tooltip opacity issue in tab control\n        var shadowId = this.element.id + '_shadow';\n        if (this.theme === 'Tailwind' || this.theme === 'TailwindDark' || this.theme === 'Tailwind3' || this.theme === 'Tailwind3Dark' || this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') {\n          pathElement.setAttribute('box-shadow', '0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)');\n        } else {\n          pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#' + shadowId + ')');\n        }\n        var shadow = '<filter id=\"' + shadowId + '\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n        if (this.theme.indexOf('Fluent2') > -1) {\n          shadow += '<feOffset dx=\"-1\" dy=\"3.6\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.2\"/>';\n        } else {\n          shadow += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n        }\n        shadow += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        var defElement = this.renderer.createDefs();\n        defElement.setAttribute('id', this.element.id + 'SVG_tooltip_definition');\n        groupElement.appendChild(defElement);\n        defElement.innerHTML = shadow;\n      }\n      var borderColor = (this.theme === 'Fabric' || this.theme === 'Fluent' || this.theme === 'Fluent2') && !this.border.color ? '#D2D0CE' : this.theme === 'Fluent2HighContrast' ? '#FFFFFF' : this.border.color;\n      pathElement.setAttribute('stroke', borderColor);\n      if (!isNullOrUndefined(this.border.dashArray)) {\n        pathElement.setAttribute('stroke-dasharray', this.border.dashArray);\n      }\n      this.changeText(new TooltipLocation(x, y), isBottom, !isLeft && !isTop && !isBottom);\n      if (this.revert) {\n        this.inverted = !this.inverted;\n        this.revert = false;\n      }\n    }\n    return new Side(isBottom, !isLeft && !isTop && !isBottom);\n  };\n  Tooltip.prototype.changeText = function (point, isBottom, isRight) {\n    var element = document.getElementById(this.element.id + '_text');\n    if (isBottom) {\n      element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n    }\n    if (isRight) {\n      element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n    }\n  };\n  Tooltip.prototype.findFormattedText = function () {\n    this.formattedText = [];\n    if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n      this.formattedText = this.formattedText.concat(this.header);\n    }\n    this.formattedText = this.formattedText.concat(this.content);\n  };\n  // tslint:disable-next-line:max-func-body-length\n  Tooltip.prototype.renderText = function (isRender) {\n    var height = 0;\n    var width = 0; // Padding for text;\n    var subWidth = 0;\n    var lines;\n    var key = 'properties';\n    var font = extend({}, this.textStyle, null, true)[key];\n    var groupElement = getElement(this.element.id + '_group');\n    var tspanElement;\n    var textCollection;\n    var tspanStyle = '';\n    var line;\n    var tspanOption;\n    this.findFormattedText();\n    this.isWrap = false;\n    var isRtlEnabled = document.body.getAttribute('dir') === 'rtl';\n    var anchor = isRtlEnabled && !this.enableRTL ? 'end' : 'start';\n    this.leftSpace = this.areaBounds.x + this.location.x;\n    this.rightSpace = this.areaBounds.x + this.areaBounds.width - this.leftSpace;\n    var headerContent = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n    var isBoldTag = this.header.indexOf('<b>') > -1 && this.header.indexOf('</b>') > -1;\n    var headerWidth = measureText(this.formattedText[0], font, this.themeStyle.textStyle).width + 2 * this.marginX + this.arrowPadding;\n    var isLeftSpace = this.location.x - headerWidth < this.location.x;\n    var isRightSpace = this.areaBounds.x + this.areaBounds.width < this.location.x + headerWidth;\n    var header;\n    var headerSpace = headerContent !== '' && this.showHeaderLine ? this.marginY : 0;\n    var isRow = true;\n    var isColumn = true;\n    this.markerPoint = [];\n    var markerSize = this.shapes.length > 0 ? 10 : 0;\n    var markerPadding = this.shapes.length > 0 ? 5 : 0;\n    var spaceWidth = 4;\n    var subStringLength;\n    var fontSize = '12px';\n    var fontWeight = '400';\n    var labelColor = this.themeStyle.tooltipLightLabel;\n    var dy = 22 / parseFloat(fontSize) * parseFloat(font.size || this.themeStyle.textStyle.size);\n    var contentWidth = [];\n    var textHeight = 0;\n    if (!isRender || this.isCanvas) {\n      removeElement(this.element.id + '_text');\n      removeElement(this.element.id + '_header_path');\n      removeElement(this.element.id + '_trackball_group');\n      removeElement(this.element.id + 'SVG_tooltip_definition');\n    }\n    // Condition to resolve the text size issue only in chart.\n    if (this.controlName === 'Chart' && parseFloat(fontSize) < parseFloat(font.size || this.themeStyle.textStyle.headerTextSize)) {\n      textHeight = parseFloat(font.size || this.themeStyle.textStyle.size) - parseFloat(fontSize);\n    }\n    var options = new TextOption(this.element.id + '_text', this.marginX * 2, textHeight + this.marginY * 2 + this.padding * 2 + (this.marginY === 2 ? this.controlName === 'RangeNavigator' ? 5 : 3 : 0), anchor, '');\n    var parentElement = textElement(options, font, font.color || this.themeStyle.tooltipBoldLabel, groupElement, this.themeStyle.textStyle);\n    var withoutHeader = this.formattedText.length === 1 && this.formattedText[0].indexOf(' : <b>') > -1;\n    var isHeader = this.header !== '';\n    var size = isHeader && isBoldTag ? 16 : 13;\n    for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n      textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>').replace(/<\\/(b|strong)>/g, '</b>').split(/<br.*?>/g);\n      if (this.isTextWrap && this.header !== this.formattedText[k] && this.formattedText[k].indexOf('<br') === -1) {\n        subStringLength = Math.round(this.leftSpace > this.rightSpace ? this.leftSpace / size : this.rightSpace / size);\n        textCollection = this.formattedText[k].match(new RegExp('.{1,' + subStringLength + '}', 'g'));\n      }\n      if (k === 0 && !withoutHeader && this.isTextWrap && (this.leftSpace < headerWidth || isLeftSpace) && (this.rightSpace < headerWidth || isRightSpace)) {\n        subStringLength = Math.round(this.leftSpace > this.rightSpace ? this.leftSpace / size : this.rightSpace / size);\n        header = headerContent !== '' ? headerContent : this.formattedText[k];\n        textCollection = header.match(new RegExp('.{1,' + subStringLength + '}', 'g'));\n        this.wrappedText = isBoldTag ? '<b>' + textCollection.join('<br>') + '</b>' : textCollection.join('<br>');\n        this.isWrap = textCollection.length > 1;\n      }\n      if (textCollection[0] === '') {\n        continue;\n      }\n      if (k !== 0 || headerContent === '') {\n        this.markerPoint.push((headerContent !== '' && this.showHeaderLine ? this.marginY : 0) + options.y + height - (textHeight !== 0 ? textHeight / this.markerSize * (parseFloat(font.size || this.themeStyle.textStyle.headerTextSize) / this.markerSize) : 0));\n      }\n      for (var i = 0, len = textCollection.length; i < len; i++) {\n        // string value of unicode for LTR is \\u200E\n        lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').replace(/:/g, this.enableRTL ? '<br>\\u200E: <br>' : '<br>\\u200E:<br>').split('<br>');\n        if (this.enableRTL && lines.length > 0 && textCollection[i].match(/:/g)) {\n          lines[0] = lines[0].trim();\n          lines.reverse();\n        }\n        subWidth = 0;\n        isColumn = true;\n        height += dy;\n        for (var j = 0, len_1 = lines.length; j < len_1; j++) {\n          line = lines[j];\n          if (this.enableRTL && line !== '' && this.isRTLText(line)) {\n            line = line.concat('\\u200E');\n          }\n          if (!/\\S/.test(line) && line !== '') {\n            line = ' '; //to trim multiple white spaces to single white space\n          }\n          if (!isColumn && line === ' ' || line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            subWidth += line !== ' ' ? spaceWidth : 0;\n            if (isColumn && !isRow) {\n              if (this.header.indexOf('<br') > -1 && k !== 0) {\n                headerSpace += this.header.split(/<br.*?>/g).length;\n              }\n              tspanOption = {\n                x: this.marginX * 2 + (markerSize + markerPadding),\n                dy: dy + (isColumn ? headerSpace : 0),\n                fill: ''\n              };\n              headerSpace = null;\n            } else {\n              if (isRow && isColumn) {\n                tspanOption = {\n                  x: headerContent === '' ? this.marginX * 2 + (markerSize + markerPadding) : this.marginX * 2 + (this.isWrap ? markerSize + markerPadding : 0)\n                };\n              } else {\n                tspanOption = {};\n              }\n            }\n            isColumn = false;\n            tspanElement = this.renderer.createTSpan(tspanOption, '');\n            parentElement.appendChild(tspanElement);\n            if (line.indexOf('<b>') > -1 || isBoldTag && j === 0 && k === 0 && (isHeader || this.isWrap)) {\n              fontWeight = '600';\n              labelColor = this.themeStyle.tooltipBoldLabel;\n              tspanStyle = 'font-weight:' + fontWeight;\n              font.fontWeight = fontWeight;\n              tspanElement.setAttribute('fill', this.textStyle.color || labelColor);\n            } else {\n              tspanStyle = fontWeight === '600' ? 'font-weight:' + fontWeight : '';\n              font.fontWeight = fontWeight;\n              tspanElement.setAttribute('fill', this.textStyle.color || labelColor);\n            }\n            if (line.indexOf('</b>') > -1 || isBoldTag && j === len_1 - 1 && k === 0 && (isHeader || this.isWrap)) {\n              fontWeight = 'Normal';\n              labelColor = this.themeStyle.tooltipLightLabel;\n            }\n            // eslint-disable-next-line no-useless-escape\n            if (tspanStyle !== '') {\n              tspanElement.style.fontWeight = tspanStyle.split('font-weight:')[1];\n              tspanElement.style.color = tspanElement.getAttribute('fill');\n            }\n            // 'inherit' will apply css style from parent element.\n            tspanElement.style.fontFamily = 'inherit';\n            tspanElement.style.fontStyle = 'inherit';\n            tspanElement.style.fontSize = this.header === this.formattedText[k] ? font.size || this.themeStyle.textStyle.headerTextSize : line.indexOf('<b>') > -1 || line.indexOf('</b>') > -1 ? font.size || this.themeStyle.textStyle.boldTextSize : font.size || this.themeStyle.textStyle.size;\n            tspanElement.style.fontWeight = this.header === this.formattedText[k] && (this.header.indexOf('<b>') === -1 || this.header.indexOf('</b>') === -1) ? this.textStyle.fontWeight || (this.theme.indexOf('Tailwind3') > -1 ? '500' : '600') : line.indexOf('<b>') > -1 || line.indexOf('</b>') > -1 ? this.theme.indexOf('Bootstrap5') > -1 ? this.textStyle.fontWeight || '600' : 'bold' : (line.indexOf('<b>') === -1 || line.indexOf('</b>') === -1) && (this.theme.indexOf('Bootstrap5') > -1 || this.theme.indexOf('Tailwind3') > -1) ? this.textStyle.fontWeight || (this.theme.indexOf('Tailwind3') > -1 ? '500' : '600') : this.textStyle.fontWeight || font.fontWeight;\n            var textFont = extend({}, this.textStyle, null, true)[key];\n            textFont.fontWeight = tspanElement.style.fontWeight;\n            textFont.size = tspanElement.style.fontSize;\n            isRow = false;\n            tspanElement.textContent = line = this.getTooltipTextContent(line);\n            subWidth += measureText(line, textFont, this.themeStyle.textStyle).width;\n          }\n        }\n        subWidth -= spaceWidth;\n        width = Math.max(width, subWidth);\n        contentWidth.push(subWidth);\n      }\n    }\n    this.elementSize = new Size(width + (width > 0 ? 2 * this.marginX : 0), height);\n    this.elementSize.width += markerSize + markerPadding; // marker size + marker Spacing\n    var element = parentElement.childNodes[0];\n    if (headerContent !== '' && element && !this.isWrap) {\n      font.fontWeight = '600';\n      var width_1 = (this.elementSize.width + 2 * this.padding) / 2 - measureText(headerContent, font, this.themeStyle.textStyle, true).width / 2;\n      element.setAttribute('x', width_1.toString());\n    }\n    this.renderContentRTL(parentElement, isHeader, markerSize + markerPadding, contentWidth);\n  };\n  Tooltip.prototype.renderContentRTL = function (textElement, isHeader, markerSize, contentWidth) {\n    if (this.enableRTL) {\n      var tspanElement = void 0;\n      var contentWidthIndex = isHeader ? 1 : 0;\n      for (var i = 0; i < textElement.childNodes.length; i++) {\n        tspanElement = textElement.childNodes[i];\n        if ((!isHeader || i > 0) && !isNullOrUndefined(tspanElement.getAttribute('x'))) {\n          tspanElement.setAttribute('x', (this.elementSize.width - (markerSize + contentWidth[contentWidthIndex])).toString());\n          contentWidthIndex++;\n        }\n      }\n    }\n  };\n  Tooltip.prototype.getTooltipTextContent = function (tooltipText) {\n    var characterCollection = tooltipText.match(/<[a-zA-Z\\/](.|\\n)*?>/g);\n    if (isNullOrUndefined(characterCollection)) {\n      return tooltipText;\n    }\n    var isRtlText = this.isRTLText(tooltipText);\n    for (var i = 0; i < characterCollection.length; i++) {\n      if (this.isValidHTMLElement(characterCollection[i].replace('<', '').replace('/', '').replace('>', '').trim())) {\n        tooltipText = tooltipText.replace(characterCollection[i], isRtlText ? '\\u200E' : '');\n      }\n    }\n    return tooltipText;\n  };\n  Tooltip.prototype.isValidHTMLElement = function (element) {\n    return document.createElement(element).toString() !== '[object HTMLUnknownElement]';\n  };\n  Tooltip.prototype.isRTLText = function (tooltipContent) {\n    return /[\\u0590-\\u07FF\\u200F\\u202B\\u202E\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]/.test(tooltipContent);\n  };\n  Tooltip.prototype.createTemplate = function (areaBounds, location) {\n    var argsData = {\n      cancel: false,\n      name: 'tooltipRender',\n      tooltip: this\n    };\n    this.trigger('tooltipRender', argsData);\n    var parent = document.getElementById(this.element.id);\n    if (this.isCanvas) {\n      this.removeSVG();\n    }\n    var firstElement = !isNullOrUndefined(parent) ? parent.firstElementChild : null;\n    if (firstElement) {\n      remove(firstElement);\n    }\n    if (!argsData.cancel) {\n      var elem = createElement('div', {\n        id: this.element.id + 'parent_template'\n      });\n      var templateElement = void 0;\n      if (this.controlName === 'Chart' && this.shared) {\n        for (var i = 0; i < this.data.length; i++) {\n          var sharedTemplateElement = this.templateFn(this.data[i], this.controlInstance, elem.id, elem.id + '_blazorTemplate', '');\n          if (i === 0) {\n            templateElement = sharedTemplateElement;\n          } else {\n            if (sharedTemplateElement.length > 1) {\n              templateElement[i].outerHTML = sharedTemplateElement[i].outerHTML || sharedTemplateElement[i].textContent;\n            } else {\n              templateElement[templateElement.length - 1].outerHTML += sharedTemplateElement[0].outerHTML;\n            }\n          }\n        }\n      } else {\n        templateElement = this.templateFn(this.data, this.controlInstance, elem.id, elem.id + '_blazorTemplate', '');\n      }\n      while (templateElement && templateElement.length > 0) {\n        if (isBlazor() || templateElement.length === 1) {\n          elem.appendChild(templateElement[0]);\n          templateElement = null;\n        } else {\n          elem.appendChild(templateElement[0]);\n        }\n      }\n      if (!isNullOrUndefined(parent)) {\n        parent.appendChild(elem);\n      }\n      var element = this.isCanvas ? elem : this.element;\n      var rect = element.getBoundingClientRect();\n      this.padding = 0;\n      this.elementSize = new Size(rect.width, rect.height);\n      var tooltipRect = this.shared ? this.sharedTooltipLocation(areaBounds, this.location.x, this.location.y) : this.tooltipLocation(areaBounds, location, new TooltipLocation(0, 0), new TooltipLocation(0, 0));\n      if (this.enableAnimation && !this.isFirst && !this.crosshair) {\n        this.animateTooltipDiv(this.element, tooltipRect);\n      } else {\n        this.updateDiv(element, tooltipRect.x, tooltipRect.y);\n      }\n      if (this.blazorTemplate) {\n        //Customer issue - F149037  Call back function to handle the blazor tooltip alignment issues\n        var tooltipRendered = function () {\n          var rect1 = getElement(thisObject_1.element.id).getBoundingClientRect();\n          thisObject_1.elementSize = new Size(rect1.width, rect1.height);\n          var tooltipRect1 = thisObject_1.tooltipLocation(areaBounds, location, new TooltipLocation(0, 0), new TooltipLocation(0, 0));\n          thisObject_1.updateDiv(getElement(thisObject_1.element.id), tooltipRect1.x, tooltipRect1.y);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var thisObject_1 = this;\n        tooltipRendered.bind(thisObject_1, areaBounds, location);\n        updateBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate', this.blazorTemplate.name, this.blazorTemplate.parent, undefined, tooltipRendered);\n      }\n    } else {\n      remove(getElement(this.element.id + '_tooltip'));\n    }\n  };\n  Tooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n    var width = this.elementSize.width + 2 * this.marginX;\n    var height = this.elementSize.height + 2 * this.marginY;\n    var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n    if (tooltipRect.y < bounds.y) {\n      tooltipRect.y += tooltipRect.height + 2 * this.padding;\n    }\n    if (tooltipRect.y + tooltipRect.height > bounds.y + bounds.height) {\n      tooltipRect.y = Math.max(bounds.y + bounds.height - (tooltipRect.height + 2 * this.padding), bounds.y);\n    }\n    if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n      tooltipRect.x = bounds.x + this.location.x - (tooltipRect.width + 4 * this.padding);\n    }\n    if (tooltipRect.x < bounds.x) {\n      tooltipRect.x = bounds.x;\n    }\n    return tooltipRect;\n  };\n  /** @private */\n  Tooltip.prototype.getCurrentPosition = function (bounds, symbolLocation, arrowLocation, tipLocation) {\n    var position = this.tooltipPlacement;\n    var clipX = this.clipBounds.x;\n    var clipY = this.clipBounds.y;\n    var markerHeight = this.offset;\n    var width = this.elementSize.width + 2 * this.marginX;\n    var height = this.elementSize.height + 2 * this.marginY;\n    var location = new TooltipLocation(symbolLocation.x, symbolLocation.y);\n    if (position === 'Top' || position === 'Bottom') {\n      location = new TooltipLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - 2 * this.padding - this.arrowPadding - markerHeight);\n      arrowLocation.x = tipLocation.x = width / 2;\n      if (position === 'Bottom') {\n        location.y = symbolLocation.y + clipY + markerHeight;\n      }\n      if (bounds.x + bounds.width < location.x + width) {\n        location.x = bounds.width > width ? bounds.x + bounds.width - width + 6 : bounds.x;\n        arrowLocation.x = tipLocation.x = bounds.width > width ? bounds.x + symbolLocation.x - location.x : symbolLocation.x;\n      } else if (bounds.x > location.x) {\n        location.x = bounds.x;\n        arrowLocation.x = tipLocation.x = symbolLocation.x;\n      }\n    } else {\n      location = new TooltipLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - this.padding);\n      arrowLocation.y = tipLocation.y = height / 2;\n      if (position === 'Left') {\n        location.x = symbolLocation.x + clipX - markerHeight - (width + this.arrowPadding);\n      }\n      if (bounds.y + bounds.height < location.y + height) {\n        location.y = bounds.height > height ? bounds.y + bounds.height - height + 6 : bounds.y;\n        arrowLocation.y = tipLocation.y = bounds.height > height ? bounds.y + symbolLocation.y - location.y : symbolLocation.y;\n      } else if (bounds.y > location.y) {\n        location.y = bounds.y;\n        arrowLocation.y = tipLocation.y = symbolLocation.y;\n      }\n    }\n    return new Rect(location.x, location.y, width, height);\n  };\n  // tslint:disable-next-line:max-func-body-length\n  /** @private */\n  Tooltip.prototype.tooltipLocation = function (bounds, symbolLocation, arrowLocation, tipLocation) {\n    if (!isNullOrUndefined(this.tooltipPlacement)) {\n      var tooltipRect = this.getCurrentPosition(bounds, symbolLocation, arrowLocation, tipLocation);\n      return tooltipRect;\n    }\n    var location = new TooltipLocation(symbolLocation.x, symbolLocation.y);\n    var width = this.elementSize.width + 2 * this.marginX;\n    var height = this.elementSize.height + 2 * this.marginY;\n    var markerHeight = this.offset;\n    var clipX = this.clipBounds.x;\n    var clipY = this.clipBounds.y;\n    var boundsX = bounds.x;\n    var boundsY = bounds.y;\n    this.outOfBounds = false;\n    if (!this.inverted) {\n      location = new TooltipLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - 2 * (this.allowHighlight ? this.highlightPadding : this.padding) - this.arrowPadding - markerHeight);\n      arrowLocation.x = tipLocation.x = width / 2;\n      if ((location.y < boundsY || this.isNegative) && !(this.controlName === 'Progressbar')) {\n        location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n      }\n      if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n        location.y = Math.min(symbolLocation.y, boundsY + bounds.height) + clipY - this.elementSize.height - 2 * this.padding - this.arrowPadding - markerHeight;\n      }\n      if ((location.x + width > boundsX + bounds.width && location.y < boundsY || this.isNegative) && !(this.controlName === 'Progressbar')) {\n        location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n      }\n      tipLocation.x = width / 2;\n      if (location.x < boundsX && !(this.controlName === 'Progressbar')) {\n        arrowLocation.x -= boundsX - location.x;\n        tipLocation.x -= boundsX - location.x;\n        location.x = boundsX;\n      }\n      if (location.x + width > boundsX + bounds.width && !(this.controlName === 'Progressbar')) {\n        arrowLocation.x += location.x + width - (boundsX + bounds.width);\n        tipLocation.x += location.x + width - (boundsX + bounds.width);\n        location.x -= location.x + width - (boundsX + bounds.width);\n      }\n      if (location.x < boundsX && !(this.controlName === 'Progressbar')) {\n        arrowLocation.x -= boundsX - location.x;\n        tipLocation.x -= boundsX - location.x;\n        location.x = boundsX;\n      }\n      if (arrowLocation.x + this.arrowPadding > width - this.rx) {\n        arrowLocation.x = width - this.rx - this.arrowPadding;\n        tipLocation.x = width - this.rx - this.arrowPadding;\n      }\n      if (arrowLocation.x - this.arrowPadding < this.rx) {\n        arrowLocation.x = tipLocation.x = this.rx + this.arrowPadding;\n      }\n      if (this.controlName === 'Chart') {\n        if (bounds.x + bounds.width - (location.x + arrowLocation.x) < this.areaMargin + this.arrowPadding || location.x + arrowLocation.x < this.areaMargin + this.arrowPadding) {\n          this.outOfBounds = true;\n        }\n        if (this.template && location.y < 0) {\n          location.y = symbolLocation.y + clipY + markerHeight;\n        }\n        if (!withInAreaBounds(location.x, location.y, bounds) || this.outOfBounds) {\n          this.inverted = !this.inverted;\n          this.revert = true;\n          location = new TooltipLocation(symbolLocation.x + markerHeight + clipX, symbolLocation.y + clipY - this.elementSize.height / 2 - this.padding);\n          tipLocation.x = arrowLocation.x = 0;\n          tipLocation.y = arrowLocation.y = height / 2;\n          if (location.x + this.arrowPadding + width > boundsX + bounds.width || this.isNegative) {\n            location.x = (symbolLocation.x > boundsX + bounds.width ? bounds.width : symbolLocation.x) + clipX - markerHeight - (this.arrowPadding + width);\n          }\n          if (location.x < boundsX) {\n            location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + markerHeight + clipX;\n          }\n          if (location.y <= boundsY) {\n            tipLocation.y -= boundsY - location.y;\n            arrowLocation.y -= boundsY - location.y;\n            location.y = boundsY;\n          }\n          if (location.y + height >= bounds.height + boundsY) {\n            arrowLocation.y += location.y + height - (bounds.height + boundsY);\n            tipLocation.y += location.y + height - (bounds.height + boundsY);\n            location.y -= location.y + height - (bounds.height + boundsY);\n          }\n          if (this.arrowPadding + arrowLocation.y > height - this.ry) {\n            arrowLocation.y = height - this.arrowPadding - this.ry;\n            tipLocation.y = height;\n          }\n          if (arrowLocation.y - this.arrowPadding < this.ry) {\n            arrowLocation.y = this.arrowPadding + this.ry;\n            tipLocation.y = 0;\n          }\n        }\n      }\n    } else {\n      location = new TooltipLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - this.padding);\n      arrowLocation.y = tipLocation.y = height / 2;\n      if (location.x + width + this.arrowPadding > boundsX + bounds.width || this.isNegative) {\n        location.x = (symbolLocation.x > bounds.width + bounds.x ? bounds.width : symbolLocation.x) + clipX - markerHeight - (width + this.arrowPadding);\n      }\n      if (location.x < boundsX) {\n        location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n      }\n      if (location.x + width + this.arrowPadding > boundsX + bounds.width) {\n        location.x = (symbolLocation.x > bounds.width + bounds.x ? bounds.width : symbolLocation.x) + clipX - markerHeight - (width + this.arrowPadding);\n      }\n      if (location.y <= boundsY) {\n        arrowLocation.y -= boundsY - location.y;\n        tipLocation.y -= boundsY - location.y;\n        location.y = boundsY;\n      }\n      if (location.y + height >= boundsY + bounds.height) {\n        arrowLocation.y += location.y + height - (boundsY + bounds.height);\n        tipLocation.y += location.y + height - (boundsY + bounds.height);\n        location.y -= location.y + height - (boundsY + bounds.height);\n      }\n      if (arrowLocation.y + this.arrowPadding > height - this.ry) {\n        arrowLocation.y = height - this.ry - this.arrowPadding;\n        tipLocation.y = height;\n      }\n      if (arrowLocation.y - this.arrowPadding < this.ry) {\n        arrowLocation.y = tipLocation.y = this.ry + this.arrowPadding;\n      }\n      if (this.controlName === 'Chart') {\n        if (location.y + arrowLocation.y < this.areaMargin + this.arrowPadding || bounds.y + bounds.height - (location.y + arrowLocation.y) < this.areaMargin + this.arrowPadding) {\n          this.outOfBounds = true;\n        }\n        if (!withInAreaBounds(location.x, location.y, bounds) || this.outOfBounds) {\n          this.inverted = !this.inverted;\n          location = new TooltipLocation(symbolLocation.x + clipX - this.padding - this.elementSize.width / 2, symbolLocation.y + clipY - this.elementSize.height - 2 * this.padding - markerHeight - this.arrowPadding);\n          this.revert = true;\n          tipLocation.x = arrowLocation.x = width / 2;\n          tipLocation.y = arrowLocation.y = 0;\n          if (location.y < boundsY || this.isNegative) {\n            location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + markerHeight + clipY;\n          }\n          if (location.y + this.arrowPadding + height > boundsY + bounds.height) {\n            location.y = Math.min(symbolLocation.y, boundsY + bounds.height) + clipY - this.elementSize.height - 2 * this.padding - markerHeight - this.arrowPadding;\n          }\n          tipLocation.x = width / 2;\n          if (location.x < boundsX) {\n            tipLocation.x -= boundsX - location.x;\n            arrowLocation.x -= boundsX - location.x;\n            location.x = boundsX;\n          }\n          if (location.x + width > bounds.width + boundsX) {\n            arrowLocation.x += location.x + width - (bounds.width + boundsX);\n            tipLocation.x += location.x + width - (bounds.width + boundsX);\n            location.x -= location.x + width - (bounds.width + boundsX);\n          }\n          if (this.arrowPadding + arrowLocation.x > width - this.rx) {\n            tipLocation.x = width - this.rx - this.arrowPadding;\n            arrowLocation.x = width - this.rx - this.arrowPadding;\n          }\n          if (arrowLocation.x - this.arrowPadding < this.rx) {\n            arrowLocation.x = tipLocation.x = this.rx + this.arrowPadding;\n          }\n        }\n      }\n    }\n    return new Rect(location.x, location.y, width, height);\n  };\n  Tooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n    var _this = this;\n    var x = parseFloat(tooltipDiv.style.left);\n    var y = parseFloat(tooltipDiv.style.top);\n    var duration = this.duration === 0 && animationMode === 'Enable' ? 300 : this.duration;\n    if (this.controlName === 'Chart' && this.shared && !this.enableRTL) {\n      var transformValues = this.element.style.transform.split(/[(),\\s]+/);\n      x = parseFloat(transformValues[1]);\n      y = parseFloat(transformValues[2]);\n      tooltipDiv.style.transition = 'transform ' + duration + 'ms ease';\n    }\n    var currenDiff;\n    new Animation({}).animate(tooltipDiv, {\n      duration: duration,\n      progress: function (args) {\n        currenDiff = args.timeStamp / args.duration;\n        tooltipDiv.style.animation = null;\n        if (_this.controlName === 'Chart' && _this.shared && !_this.enableRTL) {\n          tooltipDiv.style.transform = 'translate(' + (x + (rect.x - x)) + 'px,' + (y + rect.y - y) + 'px)';\n          tooltipDiv.style.left = '';\n          tooltipDiv.style.top = '';\n        } else if (_this.controlName === 'Chart' && _this.showNearestTooltip) {\n          tooltipDiv.style.transition = 'left ' + args.duration + 'ms ease-out, top ' + args.duration + 'ms ease-out';\n          tooltipDiv.style.left = rect.x + 'px';\n          tooltipDiv.style.top = rect.y + 'px';\n        } else {\n          tooltipDiv.style.left = x + currenDiff * (rect.x - x) + 'px';\n          tooltipDiv.style.top = y + currenDiff * (rect.y - y) + 'px';\n          tooltipDiv.style.transform = _this.controlName === 'RangeNavigator' ? tooltipDiv.style.transform : '';\n        }\n      },\n      end: function (model) {\n        _this.updateDiv(tooltipDiv, rect.x, rect.y);\n        _this.trigger('animationComplete', {\n          tooltip: _this\n        });\n      }\n    });\n  };\n  Tooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n    if (this.controlName === 'Chart' && this.shared && !this.crosshair && !this.enableRTL) {\n      tooltipDiv.style.transform = 'translate(' + x + 'px,' + y + 'px)';\n      tooltipDiv.style.left = '';\n      tooltipDiv.style.top = '';\n    } else {\n      tooltipDiv.style.left = x + 'px';\n      tooltipDiv.style.top = y + 'px';\n      tooltipDiv.style.transform = this.controlName === 'RangeNavigator' ? tooltipDiv.style.transform : '';\n    }\n  };\n  Tooltip.prototype.updateTemplateFn = function () {\n    if (this.template) {\n      try {\n        if (typeof this.template !== 'function' && document.querySelectorAll(this.template).length) {\n          this.templateFn = templateComplier(document.querySelector(this.template).innerHTML.trim());\n        } else {\n          this.templateFn = templateComplier(this.template);\n        }\n      } catch (e) {\n        this.templateFn = templateComplier(this.template);\n      }\n    }\n  };\n  /** @private */\n  Tooltip.prototype.fadeOut = function () {\n    var _this = this;\n    var tooltipElement = this.isCanvas && !this.template ? getElement(this.element.id + '_svg') : getElement(this.element.id);\n    var tooltipDiv = getElement(this.element.id);\n    if (tooltipElement) {\n      var tooltipGroup_1 = tooltipElement.firstChild;\n      if (tooltipGroup_1.nodeType !== Node.ELEMENT_NODE) {\n        tooltipGroup_1 = tooltipElement.firstElementChild;\n      }\n      if (this.isCanvas && !this.template) {\n        tooltipGroup_1 = document.getElementById(this.element.id + '_group') ? document.getElementById(this.element.id + '_group') : tooltipGroup_1;\n      }\n      if (!tooltipGroup_1) {\n        return null;\n      }\n      var opacity_1 = parseFloat(tooltipGroup_1.getAttribute('opacity'));\n      opacity_1 = !isNullOrUndefined(opacity_1) ? opacity_1 : 1;\n      new Animation({}).animate(tooltipGroup_1, {\n        duration: 200,\n        progress: function (args) {\n          //  tooltipGroup.removeAttribute('e-animate');\n          _this.progressAnimation(tooltipGroup_1, opacity_1, args.timeStamp / args.duration);\n        },\n        end: function () {\n          _this.fadeOuted = true;\n          _this.endAnimation(tooltipGroup_1);\n          tooltipDiv.style.transition = '';\n        }\n      });\n    }\n  };\n  Tooltip.prototype.progressAnimation = function (tooltipGroup, opacity, timeStamp) {\n    tooltipGroup.style.animation = '';\n    tooltipGroup.setAttribute('opacity', (opacity - timeStamp).toString());\n  };\n  /*\n   * @hidden\n   */\n  Tooltip.prototype.endAnimation = function (tooltipGroup) {\n    tooltipGroup.setAttribute('opacity', '0');\n    if (this.template) {\n      tooltipGroup.style.display = 'none';\n    }\n    this.trigger('animationComplete', {\n      tooltip: this\n    });\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @private\n   */\n  Tooltip.prototype.getPersistData = function () {\n    var keyEntity = [];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Get component name\n   *\n   *  @private\n   */\n  Tooltip.prototype.getModuleName = function () {\n    return 'tooltip';\n  };\n  /**\n   * To destroy the accumulationcharts\n   *\n   * @private\n   */\n  Tooltip.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    this.element.classList.remove('e-tooltip');\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @returns {void}\n   * @private\n   */\n  Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.blazorTemplate) {\n      resetBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate');\n    }\n    this.isFirst = false;\n    this.render();\n  };\n  __decorate([Property(false)], Tooltip.prototype, \"enable\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"shared\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"crosshair\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"enableShadow\", void 0);\n  __decorate([Property(null)], Tooltip.prototype, \"fill\", void 0);\n  __decorate([Property('')], Tooltip.prototype, \"header\", void 0);\n  __decorate([Property(0.75)], Tooltip.prototype, \"opacity\", void 0);\n  __decorate([Complex({\n    size: '12px',\n    fontWeight: null,\n    color: null,\n    fontStyle: 'Normal',\n    fontFamily: null\n  }, TextStyle)], Tooltip.prototype, \"textStyle\", void 0);\n  __decorate([Property(null)], Tooltip.prototype, \"template\", void 0);\n  __decorate([Property(true)], Tooltip.prototype, \"enableAnimation\", void 0);\n  __decorate([Property(300)], Tooltip.prototype, \"duration\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"inverted\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"isNegative\", void 0);\n  __decorate([Complex({\n    color: null,\n    width: null\n  }, TooltipBorder)], Tooltip.prototype, \"border\", void 0);\n  __decorate([Property([])], Tooltip.prototype, \"content\", void 0);\n  __decorate([Property(10)], Tooltip.prototype, \"markerSize\", void 0);\n  __decorate([Complex({\n    x: 0,\n    y: 0\n  }, ToolLocation)], Tooltip.prototype, \"clipBounds\", void 0);\n  __decorate([Property([])], Tooltip.prototype, \"palette\", void 0);\n  __decorate([Property([])], Tooltip.prototype, \"shapes\", void 0);\n  __decorate([Complex({\n    x: 0,\n    y: 0\n  }, ToolLocation)], Tooltip.prototype, \"location\", void 0);\n  __decorate([Property(0)], Tooltip.prototype, \"offset\", void 0);\n  __decorate([Property(4)], Tooltip.prototype, \"rx\", void 0);\n  __decorate([Property(4)], Tooltip.prototype, \"ry\", void 0);\n  __decorate([Property(5)], Tooltip.prototype, \"marginX\", void 0);\n  __decorate([Property(5)], Tooltip.prototype, \"marginY\", void 0);\n  __decorate([Property(7)], Tooltip.prototype, \"arrowPadding\", void 0);\n  __decorate([Property(null)], Tooltip.prototype, \"data\", void 0);\n  __decorate([Property('Material')], Tooltip.prototype, \"theme\", void 0);\n  __decorate([Complex({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }, AreaBounds)], Tooltip.prototype, \"areaBounds\", void 0);\n  __decorate([Property(null)], Tooltip.prototype, \"availableSize\", void 0);\n  __decorate([Property()], Tooltip.prototype, \"blazorTemplate\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"isCanvas\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"isTextWrap\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"isFixed\", void 0);\n  __decorate([Property(null)], Tooltip.prototype, \"tooltipPlacement\", void 0);\n  __decorate([Property(null)], Tooltip.prototype, \"controlInstance\", void 0);\n  __decorate([Property('')], Tooltip.prototype, \"controlName\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"showNearestTooltip\", void 0);\n  __decorate([Event()], Tooltip.prototype, \"tooltipRender\", void 0);\n  __decorate([Event()], Tooltip.prototype, \"loaded\", void 0);\n  __decorate([Event()], Tooltip.prototype, \"animationComplete\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"enableRTL\", void 0);\n  __decorate([Property(false)], Tooltip.prototype, \"allowHighlight\", void 0);\n  __decorate([Property(true)], Tooltip.prototype, \"showHeaderLine\", void 0);\n  Tooltip = __decorate([NotifyPropertyChanges], Tooltip);\n  return Tooltip;\n}(Component);\nexport { Tooltip };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","NotifyPropertyChanges","Property","Event","Complex","updateBlazorTemplate","extend","compile","templateComplier","Component","resetBlazorTemplate","isBlazor","isNullOrUndefined","SvgRenderer","ChildProperty","createElement","remove","Browser","Animation","animationMode","getTooltipThemeColor","Size","Rect","Side","measureText","getElement","findDirection","drawSymbol","textElement","removeElement","TextOption","TooltipLocation","PathOption","withInAreaBounds","TextStyle","_super","apply","TooltipBorder","AreaBounds","ToolLocation","Tooltip","options","element","call","preRender","allowServerDataBinding","initPrivateVariable","isCanvas","removeSVG","createTooltipElement","renderer","id","themeStyle","theme","formattedText","padding","highlightPadding","areaMargin","isFirst","markerPoint","svgObject","document","getElementById","templateObject","blazorTemplate","parentNode","render","fadeOuted","template","renderText","argsData","cancel","name","tooltip","trigger","markerSide","renderTooltipElement","areaBounds","location","drawMarker","isBottom","isRight","markerSize","updateTemplateFn","createTemplate","textElements","shared","enableRTL","setAttribute","createSvg","appendChild","groupElement","createGroup","pathElement","drawPath","border","width","fill","tooltipFill","indexOf","opacity","color","size","shapes","shapeOption","count","markerGroup","x","elementSize","marginX","arrowPadding","_i","_a","shape","palette","header","split","tooltipContent","getTooltipTextContent","tooltipDiv","arrowLocation","tipLocation","rect","isTop","isLeft","y","showHeaderLine","height","marginY","isFixed","content","sharedTooltipLocation","tooltipLocation","inverted","clipBounds","allowHighlight","wrapPadding","wrapHeader","isWrap","wrappedText","textArray","font","textStyle","headerSize","xLength","direction","pathElement_1","tooltipHeaderLine","start","pointRect","enableAnimation","crosshair","animateTooltipDiv","updateDiv","toString","tooltipPlacement","rx","ry","controlName","enableShadow","shadowId","isIE","shadow","defElement","createDefs","innerHTML","borderColor","dashArray","changeText","revert","point","findFormattedText","replace","trim","concat","isRender","subWidth","lines","tspanElement","textCollection","tspanStyle","line","tspanOption","isRtlEnabled","body","getAttribute","anchor","leftSpace","rightSpace","headerContent","isBoldTag","headerWidth","isLeftSpace","isRightSpace","headerSpace","isRow","isColumn","markerPadding","spaceWidth","subStringLength","fontSize","fontWeight","labelColor","tooltipLightLabel","dy","parseFloat","contentWidth","textHeight","headerTextSize","parentElement","tooltipBoldLabel","withoutHeader","isHeader","k","pointsLength","isTextWrap","Math","round","match","RegExp","join","push","len","reverse","j","len_1","isRTLText","test","createTSpan","style","fontFamily","fontStyle","boldTextSize","textFont","textContent","max","childNodes","width_1","renderContentRTL","contentWidthIndex","tooltipText","characterCollection","isRtlText","isValidHTMLElement","parent","firstElement","firstElementChild","elem","templateElement","data","sharedTemplateElement","templateFn","controlInstance","outerHTML","getBoundingClientRect","tooltipRect","tooltipRendered","rect1","thisObject_1","tooltipRect1","bind","undefined","bounds","getCurrentPosition","symbolLocation","position","clipX","clipY","markerHeight","offset","boundsX","boundsY","outOfBounds","isNegative","min","_this","left","top","duration","transformValues","transform","transition","currenDiff","animate","progress","args","timeStamp","animation","showNearestTooltip","end","model","querySelectorAll","querySelector","e","fadeOut","tooltipElement","tooltipGroup_1","firstChild","nodeType","Node","ELEMENT_NODE","opacity_1","progressAnimation","endAnimation","tooltipGroup","display","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","classList","onPropertyChanged","newProp","oldProp"],"sources":["C:/Users/mkfun/Desktop/ct assignment/admin/node_modules/@syncfusion/ej2-svg-base/src/tooltip/tooltip.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable security/detect-object-injection */\n/* eslint-disable no-useless-escape */\n/* eslint-disable security/detect-non-literal-regexp */\n/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable jsdoc/require-returns */\n/* eslint-disable valid-jsdoc */\nimport { NotifyPropertyChanges, Property, Event, Complex, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { extend, compile as templateComplier, Component, resetBlazorTemplate, isBlazor, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '../svg-render/index';\nimport { ChildProperty, createElement, remove, Browser, Animation, animationMode } from '@syncfusion/ej2-base';\nimport { getTooltipThemeColor } from './interface';\nimport { Size, Rect, Side, measureText, getElement, findDirection, drawSymbol, textElement } from './helper';\nimport { removeElement, TextOption, TooltipLocation, PathOption, withInAreaBounds } from './helper';\n/**\n * Configures the fonts in charts.\n *\n * @private\n */\nvar TextStyle = /** @class */ (function (_super) {\n    __extends(TextStyle, _super);\n    function TextStyle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TextStyle.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], TextStyle.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], TextStyle.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], TextStyle.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], TextStyle.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], TextStyle.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(null)\n    ], TextStyle.prototype, \"headerTextSize\", void 0);\n    __decorate([\n        Property(null)\n    ], TextStyle.prototype, \"boldTextSize\", void 0);\n    return TextStyle;\n}(ChildProperty));\nexport { TextStyle };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"dashArray\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar AreaBounds = /** @class */ (function (_super) {\n    __extends(AreaBounds, _super);\n    function AreaBounds() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"y\", void 0);\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"width\", void 0);\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"height\", void 0);\n    return AreaBounds;\n}(ChildProperty));\nexport { AreaBounds };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar ToolLocation = /** @class */ (function (_super) {\n    __extends(ToolLocation, _super);\n    function ToolLocation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], ToolLocation.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], ToolLocation.prototype, \"y\", void 0);\n    return ToolLocation;\n}(ChildProperty));\nexport { ToolLocation };\n/**\n * Represents the Tooltip control.\n * ```html\n * <div id=\"tooltip\"/>\n * <script>\n *   var tooltipObj = new Tooltip({ isResponsive : true });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n *\n * @private\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @hidden\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.allowServerDataBinding = false;\n        this.initPrivateVariable();\n        if (!this.isCanvas) {\n            this.removeSVG();\n        }\n        this.createTooltipElement();\n    };\n    Tooltip.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.themeStyle = getTooltipThemeColor(this.theme);\n        this.formattedText = [];\n        this.padding = 5;\n        this.highlightPadding = 3;\n        this.areaMargin = 10;\n        this.isFirst = true;\n        this.markerPoint = [];\n    };\n    Tooltip.prototype.removeSVG = function () {\n        var svgObject = document.getElementById(this.element.id + '_svg');\n        var templateObject = document.getElementById(this.element.id + 'parent_template');\n        if (this.blazorTemplate) {\n            resetBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate');\n        }\n        if (svgObject && svgObject.parentNode) {\n            remove(svgObject);\n        }\n        if (templateObject && templateObject.parentNode) {\n            remove(templateObject);\n        }\n    };\n    /**\n     * To Initialize the control rendering.\n     */\n    Tooltip.prototype.render = function () {\n        this.fadeOuted = false;\n        if (!this.template) {\n            this.renderText(this.isFirst);\n            var argsData = {\n                cancel: false, name: 'tooltipRender', tooltip: this\n            };\n            this.trigger('tooltipRender', argsData);\n            var markerSide = this.renderTooltipElement(this.areaBounds, this.location);\n            this.drawMarker(markerSide.isBottom, markerSide.isRight, this.markerSize);\n        }\n        else {\n            this.updateTemplateFn();\n            this.createTemplate(this.areaBounds, this.location);\n        }\n        this.trigger('loaded', { tooltip: this });\n        var element = document.getElementById('chartmeasuretext');\n        if (element) {\n            remove(element);\n        }\n        this.allowServerDataBinding = true;\n    };\n    Tooltip.prototype.createTooltipElement = function () {\n        this.textElements = [];\n        if (!this.template || this.shared) {\n            // SVG element for tooltip\n            if (this.enableRTL) {\n                this.element.setAttribute('dir', 'ltr');\n            }\n            var svgObject = this.renderer.createSvg({ id: this.element.id + '_svg' });\n            this.element.appendChild(svgObject);\n            // Group to hold text and path.\n            var groupElement = document.getElementById(this.element.id + '_group');\n            if (!groupElement) {\n                groupElement = this.renderer.createGroup({ id: this.element.id + '_group' });\n                groupElement.setAttribute('transform', 'translate(0,0)');\n            }\n            svgObject.appendChild(groupElement);\n            var pathElement = this.renderer.drawPath({\n                'id': this.element.id + '_path', 'stroke-width': ((this.theme === 'Fabric' || this.theme === 'Fluent' || this.theme === 'Fluent2' || this.theme === 'Fluent2HighContrast') && !this.border.width) ? 1 : this.border.width,\n                'fill': this.fill || this.themeStyle.tooltipFill, 'opacity': ((this.theme === 'TailwindDark' || this.theme === 'Tailwind' || this.theme === 'Tailwind3Dark' || this.theme === 'Tailwind3' || this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark' || this.theme.indexOf('Fluent2') > -1) && this.opacity === 0.75) ?\n                    1 : this.opacity,\n                'stroke': this.border.color || (this.theme === 'Fabric' || this.theme === 'Fluent' || this.theme === 'Fluent2' ? '#D2D0CE' : this.border.color)\n            });\n            groupElement.appendChild(pathElement);\n        }\n    };\n    Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n        if (this.shapes.length <= 0) {\n            return null;\n        }\n        var shapeOption;\n        var count = 0;\n        var markerGroup = this.renderer.createGroup({ id: this.element.id + '_trackball_group' });\n        var groupElement = getElement(this.element.id + '_group');\n        if (!groupElement) {\n            return null;\n        }\n        var x = ((this.enableRTL) ? this.elementSize.width - (size / 2) :\n            (this.marginX * 2) + (size / 2)) + (isRight ? this.arrowPadding : 0);\n        for (var _i = 0, _a = this.shapes; _i < _a.length; _i++) {\n            var shape = _a[_i];\n            if (shape !== 'None') {\n                shapeOption = new PathOption(this.element.id + '_Trackball_' + count, this.palette[count], 1, '#cccccc', 1, null);\n                if (this.markerPoint[count]) {\n                    var padding = 0;\n                    if (this.header.indexOf('<br') > -1) {\n                        padding = this.header.split(/<br.*?>/g).length + count;\n                    }\n                    var tooltipContent = (this.formattedText && this.formattedText.length >= 2)\n                        ? this.getTooltipTextContent(this.formattedText[1]) + \", \" + this.getTooltipTextContent(this.formattedText[0])\n                        : '';\n                    markerGroup.appendChild(drawSymbol(new TooltipLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : padding)), shape, new Size(size, size), '', shapeOption, 'img', tooltipContent));\n                }\n                count++;\n            }\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    Tooltip.prototype.renderTooltipElement = function (areaBounds, location) {\n        var tooltipDiv = getElement(this.element.id);\n        var arrowLocation = new TooltipLocation(0, 0);\n        var tipLocation = new TooltipLocation(0, 0);\n        var svgObject = getElement(this.element.id + '_svg');\n        var groupElement = getElement(this.element.id + '_group');\n        var pathElement = getElement(this.element.id + '_path');\n        var rect;\n        var isTop = false;\n        var isLeft = false;\n        var isBottom = false;\n        var x = 0;\n        var y = 0;\n        if (!isNullOrUndefined(groupElement)) {\n            if (this.header !== '' && this.showHeaderLine) {\n                this.elementSize.height += this.marginY;\n            }\n            if (this.isFixed) {\n                var width = this.elementSize.width + (2 * this.marginX);\n                var height = this.elementSize.height + (2 * this.marginY);\n                rect = new Rect(location.x, location.y, width, height);\n            }\n            else if (this.content.length > 1) {\n                rect = this.sharedTooltipLocation(areaBounds, this.location.x, this.location.y);\n                isTop = true;\n            }\n            else {\n                rect = this.tooltipLocation(areaBounds, location, arrowLocation, tipLocation);\n                if (!this.inverted) {\n                    isTop = (rect.y < (location.y + this.clipBounds.y));\n                    isBottom = !isTop;\n                    y = (isTop ? 0 : this.arrowPadding);\n                }\n                else {\n                    isLeft = (rect.x < (location.x + this.clipBounds.x));\n                    x = (isLeft ? 0 : this.arrowPadding);\n                    if (this.allowHighlight) {\n                        rect.x += isLeft ? this.highlightPadding : -(2 * this.highlightPadding);\n                    }\n                }\n            }\n            if (this.header !== '' && this.showHeaderLine) {\n                var wrapPadding = 2;\n                var padding = 0;\n                var wrapHeader = this.isWrap ? this.wrappedText : this.header;\n                if (this.isWrap && typeof (wrapHeader) === 'string' && (wrapHeader.indexOf('<') > -1 || wrapHeader.indexOf('>') > -1)) {\n                    var textArray = wrapHeader.split('<br>');\n                    wrapPadding = textArray.length;\n                }\n                if (this.header.indexOf('<br') > -1) {\n                    padding = 5 * (this.header.split(/<br.*?>/g).length - 1);\n                }\n                var key = 'properties';\n                var font = extend({}, this.textStyle, null, true)[key];\n                var headerSize = measureText(this.isWrap ? this.wrappedText : this.header, font, this.themeStyle.textStyle).height\n                    + (this.marginY * wrapPadding) + (isBottom ? this.arrowPadding : 0) + (this.isWrap ? 5 : padding); //header padding;\n                var xLength = (this.marginX * 3) + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n                var direction = 'M ' + xLength + ' ' + headerSize +\n                    'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - (this.marginX * 2)) +\n                    ' ' + headerSize;\n                var pathElement_1 = this.renderer.drawPath({\n                    'id': this.element.id + '_header_path', 'stroke-width': 1,\n                    'fill': null, 'opacity': this.theme === 'Material3' || this.theme === 'Material3Dark' ? 0.2 : 0.8, 'stroke': this.themeStyle.tooltipHeaderLine, 'd': direction\n                });\n                groupElement.appendChild(pathElement_1);\n            }\n            var start = this.border.width / 2;\n            var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n            groupElement.setAttribute('opacity', '1');\n            if (this.enableAnimation && !this.isFirst && !this.crosshair) {\n                this.animateTooltipDiv(tooltipDiv, rect);\n            }\n            else {\n                this.updateDiv(tooltipDiv, rect.x, rect.y);\n            }\n            // eslint-disable-next-line no-extra-boolean-cast\n            svgObject.setAttribute('height', (rect.height + this.border.width + (!((!this.inverted)) ? 0 : this.arrowPadding) + 5).toString());\n            svgObject.setAttribute('width', (rect.width + this.border.width + (((!this.inverted)) ? 0 : this.arrowPadding) + 5).toString());\n            svgObject.setAttribute('opacity', '1');\n            if (!isNullOrUndefined(this.tooltipPlacement)) {\n                isTop = this.tooltipPlacement.indexOf('Top') > -1;\n                isBottom = this.tooltipPlacement.indexOf('Bottom') > -1;\n                isLeft = this.tooltipPlacement.indexOf('Left') > -1;\n            }\n            pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.controlName));\n            if ((this.enableShadow && this.theme !== 'Bootstrap4') || this.theme.indexOf('Fluent2') > -1) {\n                // To fix next chart initial tooltip opacity issue in tab control\n                var shadowId = this.element.id + '_shadow';\n                if (this.theme === 'Tailwind' || this.theme === 'TailwindDark' || this.theme === 'Tailwind3' || this.theme === 'Tailwind3Dark'\n                    || this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') {\n                    pathElement.setAttribute('box-shadow', '0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)');\n                }\n                else {\n                    pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#' + shadowId + ')');\n                }\n                var shadow = '<filter id=\"' + shadowId + '\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n                if (this.theme.indexOf('Fluent2') > -1) {\n                    shadow += '<feOffset dx=\"-1\" dy=\"3.6\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.2\"/>';\n                }\n                else {\n                    shadow += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n                }\n                shadow += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n                var defElement = this.renderer.createDefs();\n                defElement.setAttribute('id', this.element.id + 'SVG_tooltip_definition');\n                groupElement.appendChild(defElement);\n                defElement.innerHTML = shadow;\n            }\n            var borderColor = ((this.theme === 'Fabric' || this.theme === 'Fluent' || this.theme === 'Fluent2') && !this.border.color) ? '#D2D0CE' : this.theme === 'Fluent2HighContrast' ? '#FFFFFF' : this.border.color;\n            pathElement.setAttribute('stroke', borderColor);\n            if (!isNullOrUndefined(this.border.dashArray)) {\n                pathElement.setAttribute('stroke-dasharray', this.border.dashArray);\n            }\n            this.changeText(new TooltipLocation(x, y), isBottom, !isLeft && !isTop && !isBottom);\n            if (this.revert) {\n                this.inverted = !this.inverted;\n                this.revert = false;\n            }\n        }\n        return new Side(isBottom, !isLeft && !isTop && !isBottom);\n    };\n    Tooltip.prototype.changeText = function (point, isBottom, isRight) {\n        var element = document.getElementById(this.element.id + '_text');\n        if (isBottom) {\n            element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n        }\n        if (isRight) {\n            element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n        }\n    };\n    Tooltip.prototype.findFormattedText = function () {\n        this.formattedText = [];\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n        this.formattedText = this.formattedText.concat(this.content);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Tooltip.prototype.renderText = function (isRender) {\n        var height = 0;\n        var width = 0; // Padding for text;\n        var subWidth = 0;\n        var lines;\n        var key = 'properties';\n        var font = extend({}, this.textStyle, null, true)[key];\n        var groupElement = getElement(this.element.id + '_group');\n        var tspanElement;\n        var textCollection;\n        var tspanStyle = '';\n        var line;\n        var tspanOption;\n        this.findFormattedText();\n        this.isWrap = false;\n        var isRtlEnabled = document.body.getAttribute('dir') === 'rtl';\n        var anchor = isRtlEnabled && !this.enableRTL ? 'end' : 'start';\n        this.leftSpace = this.areaBounds.x + this.location.x;\n        this.rightSpace = (this.areaBounds.x + this.areaBounds.width) - this.leftSpace;\n        var headerContent = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n        var isBoldTag = this.header.indexOf('<b>') > -1 && this.header.indexOf('</b>') > -1;\n        var headerWidth = measureText(this.formattedText[0], font, this.themeStyle.textStyle).width\n            + (2 * this.marginX) + this.arrowPadding;\n        var isLeftSpace = (this.location.x - headerWidth) < this.location.x;\n        var isRightSpace = (this.areaBounds.x + this.areaBounds.width) < (this.location.x + headerWidth);\n        var header;\n        var headerSpace = (headerContent !== '' && this.showHeaderLine) ? this.marginY : 0;\n        var isRow = true;\n        var isColumn = true;\n        this.markerPoint = [];\n        var markerSize = (this.shapes.length > 0) ? 10 : 0;\n        var markerPadding = (this.shapes.length > 0) ? 5 : 0;\n        var spaceWidth = 4;\n        var subStringLength;\n        var fontSize = '12px';\n        var fontWeight = '400';\n        var labelColor = this.themeStyle.tooltipLightLabel;\n        var dy = (22 / parseFloat(fontSize)) * (parseFloat(font.size || this.themeStyle.textStyle.size));\n        var contentWidth = [];\n        var textHeight = 0;\n        if (!isRender || this.isCanvas) {\n            removeElement(this.element.id + '_text');\n            removeElement(this.element.id + '_header_path');\n            removeElement(this.element.id + '_trackball_group');\n            removeElement(this.element.id + 'SVG_tooltip_definition');\n        }\n        // Condition to resolve the text size issue only in chart.\n        if (this.controlName === 'Chart' && parseFloat(fontSize) < parseFloat(font.size || this.themeStyle.textStyle.headerTextSize)) {\n            textHeight = (parseFloat(font.size || this.themeStyle.textStyle.size) - parseFloat(fontSize));\n        }\n        var options = new TextOption(this.element.id + '_text', this.marginX * 2, (textHeight + this.marginY * 2 + this.padding * 2 + (this.marginY === 2 ? this.controlName === 'RangeNavigator' ? 5 : 3 : 0)), anchor, '');\n        var parentElement = textElement(options, font, font.color || this.themeStyle.tooltipBoldLabel, groupElement, this.themeStyle.textStyle);\n        var withoutHeader = this.formattedText.length === 1 && this.formattedText[0].indexOf(' : <b>') > -1;\n        var isHeader = this.header !== '';\n        var size = isHeader && isBoldTag ? 16 : 13;\n        for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n            textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>')\n                .replace(/<\\/(b|strong)>/g, '</b>')\n                .split(/<br.*?>/g);\n            if (this.isTextWrap && this.header !== this.formattedText[k] && this.formattedText[k].indexOf('<br') === -1) {\n                subStringLength = Math.round(this.leftSpace > this.rightSpace ? (this.leftSpace / size) : (this.rightSpace / size));\n                textCollection = this.formattedText[k].match(new RegExp('.{1,' + subStringLength + '}', 'g'));\n            }\n            if (k === 0 && !withoutHeader && this.isTextWrap &&\n                (this.leftSpace < headerWidth || isLeftSpace) &&\n                (this.rightSpace < headerWidth || isRightSpace)) {\n                subStringLength = Math.round(this.leftSpace > this.rightSpace ? (this.leftSpace / size) : (this.rightSpace / size));\n                header = headerContent !== '' ? headerContent : this.formattedText[k];\n                textCollection = header.match(new RegExp('.{1,' + subStringLength + '}', 'g'));\n                this.wrappedText = isBoldTag ? '<b>' + textCollection.join('<br>') + '</b>' : textCollection.join('<br>');\n                this.isWrap = textCollection.length > 1;\n            }\n            if (textCollection[0] === '') {\n                continue;\n            }\n            if ((k !== 0) || (headerContent === '')) {\n                this.markerPoint.push(((headerContent !== '' && this.showHeaderLine) ? (this.marginY) : 0) + options.y + height - (textHeight !== 0 ? ((textHeight / this.markerSize) * (parseFloat(font.size || this.themeStyle.textStyle.headerTextSize) / this.markerSize)) : 0));\n            }\n            for (var i = 0, len = textCollection.length; i < len; i++) { // string value of unicode for LTR is \\u200E\n                lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').replace(/:/g, (this.enableRTL) ? '<br>\\u200E: <br>' : '<br>\\u200E:<br>')\n                    .split('<br>');\n                if (this.enableRTL && lines.length > 0 && textCollection[i].match(/:/g)) {\n                    lines[0] = lines[0].trim();\n                    lines.reverse();\n                }\n                subWidth = 0;\n                isColumn = true;\n                height += dy;\n                for (var j = 0, len_1 = lines.length; j < len_1; j++) {\n                    line = lines[j];\n                    if (this.enableRTL && line !== '' && this.isRTLText(line)) {\n                        line = line.concat('\\u200E');\n                    }\n                    if (!/\\S/.test(line) && line !== '') {\n                        line = ' '; //to trim multiple white spaces to single white space\n                    }\n                    if ((!isColumn && line === ' ') || (line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '')) {\n                        subWidth += line !== ' ' ? spaceWidth : 0;\n                        if (isColumn && !isRow) {\n                            if (this.header.indexOf('<br') > -1 && k !== 0) {\n                                headerSpace += this.header.split(/<br.*?>/g).length;\n                            }\n                            tspanOption = {\n                                x: (this.marginX * 2) + (markerSize + markerPadding),\n                                dy: dy + ((isColumn) ? headerSpace : 0), fill: ''\n                            };\n                            headerSpace = null;\n                        }\n                        else {\n                            if (isRow && isColumn) {\n                                tspanOption = {\n                                    x: (headerContent === '') ? ((this.marginX * 2) + (markerSize + markerPadding))\n                                        : (this.marginX * 2) + (this.isWrap ? (markerSize + markerPadding) : 0)\n                                };\n                            }\n                            else {\n                                tspanOption = {};\n                            }\n                        }\n                        isColumn = false;\n                        tspanElement = this.renderer.createTSpan(tspanOption, '');\n                        parentElement.appendChild(tspanElement);\n                        if (line.indexOf('<b>') > -1 || ((isBoldTag && j === 0 && k === 0) && (isHeader || this.isWrap))) {\n                            fontWeight = '600';\n                            labelColor = this.themeStyle.tooltipBoldLabel;\n                            tspanStyle = 'font-weight:' + fontWeight;\n                            font.fontWeight = fontWeight;\n                            (tspanElement).setAttribute('fill', this.textStyle.color || labelColor);\n                        }\n                        else {\n                            tspanStyle = fontWeight === '600' ? 'font-weight:' + fontWeight : '';\n                            font.fontWeight = fontWeight;\n                            (tspanElement).setAttribute('fill', this.textStyle.color || labelColor);\n                        }\n                        if (line.indexOf('</b>') > -1 || ((isBoldTag && j === len_1 - 1 && k === 0) && (isHeader || this.isWrap))) {\n                            fontWeight = 'Normal';\n                            labelColor = this.themeStyle.tooltipLightLabel;\n                        }\n                        // eslint-disable-next-line no-useless-escape\n                        if (tspanStyle !== '') {\n                            tspanElement.style.fontWeight = tspanStyle.split('font-weight:')[1];\n                            tspanElement.style.color = tspanElement.getAttribute('fill');\n                        }\n                        // 'inherit' will apply css style from parent element.\n                        tspanElement.style.fontFamily = 'inherit';\n                        tspanElement.style.fontStyle = 'inherit';\n                        tspanElement.style.fontSize = (this.header === this.formattedText[k]) ? font.size || this.themeStyle.textStyle.headerTextSize : (line.indexOf('<b>') > -1 || line.indexOf('</b>') > -1) ? font.size || this.themeStyle.textStyle.boldTextSize : font.size || this.themeStyle.textStyle.size;\n                        tspanElement.style.fontWeight = (this.header === this.formattedText[k] && (this.header.indexOf('<b>') === -1 || this.header.indexOf('</b>') === -1)) ? (this.textStyle.fontWeight || (this.theme.indexOf('Tailwind3') > -1 ? '500' : '600')) : line.indexOf('<b>') > -1 || line.indexOf('</b>') > -1 ? (this.theme.indexOf('Bootstrap5') > -1) ? (this.textStyle.fontWeight || '600') : 'bold' : ((line.indexOf('<b>') === -1 || line.indexOf('</b>') === -1) && (this.theme.indexOf('Bootstrap5') > -1 || this.theme.indexOf('Tailwind3') > -1)) ? this.textStyle.fontWeight || (this.theme.indexOf('Tailwind3') > -1 ? '500' : '600') : (this.textStyle.fontWeight || font.fontWeight);\n                        var textFont = extend({}, this.textStyle, null, true)[key];\n                        textFont.fontWeight = tspanElement.style.fontWeight;\n                        textFont.size = tspanElement.style.fontSize;\n                        isRow = false;\n                        (tspanElement).textContent = line = this.getTooltipTextContent(line);\n                        subWidth += measureText(line, textFont, this.themeStyle.textStyle).width;\n                    }\n                }\n                subWidth -= spaceWidth;\n                width = Math.max(width, subWidth);\n                contentWidth.push(subWidth);\n            }\n        }\n        this.elementSize = new Size(width + (width > 0 ? (2 * this.marginX) : 0), height);\n        this.elementSize.width += (markerSize + markerPadding); // marker size + marker Spacing\n        var element = (parentElement.childNodes[0]);\n        if (headerContent !== '' && element && !this.isWrap) {\n            font.fontWeight = '600';\n            var width_1 = (this.elementSize.width + (2 * this.padding)) / 2 - measureText(headerContent, font, this.themeStyle.textStyle, true).width\n                / 2;\n            element.setAttribute('x', width_1.toString());\n        }\n        this.renderContentRTL(parentElement, isHeader, markerSize + markerPadding, contentWidth);\n    };\n    Tooltip.prototype.renderContentRTL = function (textElement, isHeader, markerSize, contentWidth) {\n        if (this.enableRTL) {\n            var tspanElement = void 0;\n            var contentWidthIndex = isHeader ? 1 : 0;\n            for (var i = 0; i < textElement.childNodes.length; i++) {\n                tspanElement = (textElement.childNodes[i]);\n                if ((!isHeader || i > 0) && !isNullOrUndefined(tspanElement.getAttribute('x'))) {\n                    tspanElement.setAttribute('x', (this.elementSize.width - (markerSize + contentWidth[contentWidthIndex])).toString());\n                    contentWidthIndex++;\n                }\n            }\n        }\n    };\n    Tooltip.prototype.getTooltipTextContent = function (tooltipText) {\n        var characterCollection = tooltipText.match(/<[a-zA-Z\\/](.|\\n)*?>/g);\n        if (isNullOrUndefined(characterCollection)) {\n            return tooltipText;\n        }\n        var isRtlText = this.isRTLText(tooltipText);\n        for (var i = 0; i < characterCollection.length; i++) {\n            if (this.isValidHTMLElement(characterCollection[i].replace('<', '').replace('/', '').replace('>', '').trim())) {\n                tooltipText = tooltipText.replace(characterCollection[i], isRtlText ? '\\u200E' : '');\n            }\n        }\n        return tooltipText;\n    };\n    Tooltip.prototype.isValidHTMLElement = function (element) {\n        return document.createElement(element).toString() !== '[object HTMLUnknownElement]';\n    };\n    Tooltip.prototype.isRTLText = function (tooltipContent) {\n        return /[\\u0590-\\u07FF\\u200F\\u202B\\u202E\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]/.test(tooltipContent);\n    };\n    Tooltip.prototype.createTemplate = function (areaBounds, location) {\n        var argsData = { cancel: false, name: 'tooltipRender', tooltip: this };\n        this.trigger('tooltipRender', argsData);\n        var parent = document.getElementById(this.element.id);\n        if (this.isCanvas) {\n            this.removeSVG();\n        }\n        var firstElement = !isNullOrUndefined(parent) ? parent.firstElementChild : null;\n        if (firstElement) {\n            remove(firstElement);\n        }\n        if (!argsData.cancel) {\n            var elem = createElement('div', { id: this.element.id + 'parent_template' });\n            var templateElement = void 0;\n            if (this.controlName === 'Chart' && this.shared) {\n                for (var i = 0; i < this.data.length; i++) {\n                    var sharedTemplateElement = this.templateFn(this.data[i], this.controlInstance, elem.id, elem.id + '_blazorTemplate', '');\n                    if (i === 0) {\n                        templateElement = sharedTemplateElement;\n                    }\n                    else {\n                        if (sharedTemplateElement.length > 1) {\n                            templateElement[i].outerHTML = sharedTemplateElement[i].outerHTML || sharedTemplateElement[i].textContent;\n                        }\n                        else {\n                            templateElement[templateElement.length - 1].outerHTML += sharedTemplateElement[0].outerHTML;\n                        }\n                    }\n                }\n            }\n            else {\n                templateElement = this.templateFn(this.data, this.controlInstance, elem.id, elem.id + '_blazorTemplate', '');\n            }\n            while (templateElement && templateElement.length > 0) {\n                if (isBlazor() || templateElement.length === 1) {\n                    elem.appendChild(templateElement[0]);\n                    templateElement = null;\n                }\n                else {\n                    elem.appendChild(templateElement[0]);\n                }\n            }\n            if (!isNullOrUndefined(parent)) {\n                parent.appendChild(elem);\n            }\n            var element = this.isCanvas ? elem : this.element;\n            var rect = element.getBoundingClientRect();\n            this.padding = 0;\n            this.elementSize = new Size(rect.width, rect.height);\n            var tooltipRect = this.shared ? this.sharedTooltipLocation(areaBounds, this.location.x, this.location.y)\n                : this.tooltipLocation(areaBounds, location, new TooltipLocation(0, 0), new TooltipLocation(0, 0));\n            if (this.enableAnimation && !this.isFirst && !this.crosshair) {\n                this.animateTooltipDiv(this.element, tooltipRect);\n            }\n            else {\n                this.updateDiv(element, tooltipRect.x, tooltipRect.y);\n            }\n            if (this.blazorTemplate) {\n                //Customer issue - F149037  Call back function to handle the blazor tooltip alignment issues\n                var tooltipRendered = function () {\n                    var rect1 = getElement(thisObject_1.element.id).getBoundingClientRect();\n                    thisObject_1.elementSize = new Size(rect1.width, rect1.height);\n                    var tooltipRect1 = thisObject_1.tooltipLocation(areaBounds, location, new TooltipLocation(0, 0), new TooltipLocation(0, 0));\n                    thisObject_1.updateDiv(getElement(thisObject_1.element.id), tooltipRect1.x, tooltipRect1.y);\n                };\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                var thisObject_1 = this;\n                tooltipRendered.bind(thisObject_1, areaBounds, location);\n                updateBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate', this.blazorTemplate.name, this.blazorTemplate.parent, undefined, tooltipRendered);\n            }\n        }\n        else {\n            remove(getElement(this.element.id + '_tooltip'));\n        }\n    };\n    Tooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n        var width = this.elementSize.width + (2 * this.marginX);\n        var height = this.elementSize.height + (2 * this.marginY);\n        var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n        if (tooltipRect.y < bounds.y) {\n            tooltipRect.y += (tooltipRect.height + 2 * this.padding);\n        }\n        if (tooltipRect.y + tooltipRect.height > bounds.y + bounds.height) {\n            tooltipRect.y = Math.max((bounds.y + bounds.height) - (tooltipRect.height + 2 * this.padding), bounds.y);\n        }\n        if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n            tooltipRect.x = (bounds.x + this.location.x) - (tooltipRect.width + 4 * this.padding);\n        }\n        if (tooltipRect.x < bounds.x) {\n            tooltipRect.x = bounds.x;\n        }\n        return tooltipRect;\n    };\n    /** @private */\n    Tooltip.prototype.getCurrentPosition = function (bounds, symbolLocation, arrowLocation, tipLocation) {\n        var position = this.tooltipPlacement;\n        var clipX = this.clipBounds.x;\n        var clipY = this.clipBounds.y;\n        var markerHeight = this.offset;\n        var width = this.elementSize.width + (2 * this.marginX);\n        var height = this.elementSize.height + (2 * this.marginY);\n        var location = new TooltipLocation(symbolLocation.x, symbolLocation.y);\n        if (position === 'Top' || position === 'Bottom') {\n            location = new TooltipLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if (position === 'Bottom') {\n                location.y = symbolLocation.y + clipY + markerHeight;\n            }\n            if (bounds.x + bounds.width < location.x + width) {\n                location.x = (bounds.width > width) ? ((bounds.x + bounds.width) - width + 6) : bounds.x;\n                arrowLocation.x = tipLocation.x = (bounds.width > width) ? (bounds.x + symbolLocation.x - location.x) : symbolLocation.x;\n            }\n            else if (bounds.x > location.x) {\n                location.x = bounds.x;\n                arrowLocation.x = tipLocation.x = symbolLocation.x;\n            }\n        }\n        else {\n            location = new TooltipLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if (position === 'Left') {\n                location.x = symbolLocation.x + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (bounds.y + bounds.height < location.y + height) {\n                location.y = (bounds.height > height) ? ((bounds.y + bounds.height) - height + 6) : bounds.y;\n                arrowLocation.y = tipLocation.y = (bounds.height > height) ? (bounds.y + symbolLocation.y - location.y) : symbolLocation.y;\n            }\n            else if (bounds.y > location.y) {\n                location.y = bounds.y;\n                arrowLocation.y = tipLocation.y = symbolLocation.y;\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    /** @private */\n    Tooltip.prototype.tooltipLocation = function (bounds, symbolLocation, arrowLocation, tipLocation) {\n        if (!isNullOrUndefined(this.tooltipPlacement)) {\n            var tooltipRect = this.getCurrentPosition(bounds, symbolLocation, arrowLocation, tipLocation);\n            return tooltipRect;\n        }\n        var location = new TooltipLocation(symbolLocation.x, symbolLocation.y);\n        var width = this.elementSize.width + (2 * this.marginX);\n        var height = this.elementSize.height + (2 * this.marginY);\n        var markerHeight = this.offset;\n        var clipX = this.clipBounds.x;\n        var clipY = this.clipBounds.y;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        this.outOfBounds = false;\n        if (!this.inverted) {\n            location = new TooltipLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * (this.allowHighlight ? this.highlightPadding : this.padding)) -\n                this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if ((location.y < boundsY || (this.isNegative)) && !(this.controlName === 'Progressbar')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n                location.y = Math.min(symbolLocation.y, boundsY + bounds.height) + clipY\n                    - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight;\n            }\n            if (((location.x + width > boundsX + bounds.width) && location.y < boundsY || (this.isNegative)) && !(this.controlName === 'Progressbar')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            tipLocation.x = width / 2;\n            if (location.x < boundsX && !(this.controlName === 'Progressbar')) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (location.x + width > boundsX + bounds.width && !(this.controlName === 'Progressbar')) {\n                arrowLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                tipLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                location.x -= ((location.x + width) - (boundsX + bounds.width));\n            }\n            if (location.x < boundsX && !(this.controlName === 'Progressbar')) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (arrowLocation.x + this.arrowPadding > width - this.rx) {\n                arrowLocation.x = width - this.rx - this.arrowPadding;\n                tipLocation.x = width - this.rx - this.arrowPadding;\n            }\n            if (arrowLocation.x - this.arrowPadding < this.rx) {\n                arrowLocation.x = tipLocation.x = this.rx + this.arrowPadding;\n            }\n            if (this.controlName === 'Chart') {\n                if (((bounds.x + bounds.width) - (location.x + arrowLocation.x)) < this.areaMargin + this.arrowPadding ||\n                    (location.x + arrowLocation.x) < this.areaMargin + this.arrowPadding) {\n                    this.outOfBounds = true;\n                }\n                if (this.template && (location.y < 0)) {\n                    location.y = symbolLocation.y + clipY + markerHeight;\n                }\n                if (!withInAreaBounds(location.x, location.y, bounds) || this.outOfBounds) {\n                    this.inverted = !this.inverted;\n                    this.revert = true;\n                    location = new TooltipLocation(symbolLocation.x + markerHeight + clipX, symbolLocation.y + clipY - this.elementSize.height / 2 - (this.padding));\n                    tipLocation.x = arrowLocation.x = 0;\n                    tipLocation.y = arrowLocation.y = height / 2;\n                    if ((location.x + this.arrowPadding + width > boundsX + bounds.width) || (this.isNegative)) {\n                        location.x = (symbolLocation.x > boundsX + bounds.width ? bounds.width : symbolLocation.x)\n                            + clipX - markerHeight - (this.arrowPadding + width);\n                    }\n                    if (location.x < boundsX) {\n                        location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + markerHeight + clipX;\n                    }\n                    if (location.y <= boundsY) {\n                        tipLocation.y -= (boundsY - location.y);\n                        arrowLocation.y -= (boundsY - location.y);\n                        location.y = boundsY;\n                    }\n                    if (location.y + height >= bounds.height + boundsY) {\n                        arrowLocation.y += ((location.y + height) - (bounds.height + boundsY));\n                        tipLocation.y += ((location.y + height) - (bounds.height + boundsY));\n                        location.y -= ((location.y + height) - (bounds.height + boundsY));\n                    }\n                    if ((this.arrowPadding) + arrowLocation.y > height - this.ry) {\n                        arrowLocation.y = height - this.arrowPadding - this.ry;\n                        tipLocation.y = height;\n                    }\n                    if (arrowLocation.y - this.arrowPadding < this.ry) {\n                        arrowLocation.y = (this.arrowPadding) + this.ry;\n                        tipLocation.y = 0;\n                    }\n                }\n            }\n        }\n        else {\n            location = new TooltipLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width) || (this.isNegative)) {\n                location.x = (symbolLocation.x > bounds.width + bounds.x ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.x < boundsX) {\n                location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n            }\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width)) {\n                location.x = (symbolLocation.x > bounds.width + bounds.x ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.y <= boundsY) {\n                arrowLocation.y -= (boundsY - location.y);\n                tipLocation.y -= (boundsY - location.y);\n                location.y = boundsY;\n            }\n            if (location.y + height >= boundsY + bounds.height) {\n                arrowLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                tipLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                location.y -= ((location.y + height) - (boundsY + bounds.height));\n            }\n            if (arrowLocation.y + this.arrowPadding > height - this.ry) {\n                arrowLocation.y = height - this.ry - this.arrowPadding;\n                tipLocation.y = height;\n            }\n            if (arrowLocation.y - this.arrowPadding < this.ry) {\n                arrowLocation.y = tipLocation.y = this.ry + this.arrowPadding;\n            }\n            if (this.controlName === 'Chart') {\n                if ((location.y + arrowLocation.y) < this.areaMargin + this.arrowPadding ||\n                    ((bounds.y + bounds.height) - (location.y + arrowLocation.y)) < this.areaMargin + this.arrowPadding) {\n                    this.outOfBounds = true;\n                }\n                if (!withInAreaBounds(location.x, location.y, bounds) || this.outOfBounds) {\n                    this.inverted = !this.inverted;\n                    location = new TooltipLocation(symbolLocation.x + clipX - this.padding - this.elementSize.width / 2, symbolLocation.y + clipY - this.elementSize.height - (2 * this.padding) - markerHeight - this.arrowPadding);\n                    this.revert = true;\n                    tipLocation.x = arrowLocation.x = width / 2;\n                    tipLocation.y = arrowLocation.y = 0;\n                    if (location.y < boundsY || (this.isNegative)) {\n                        location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + markerHeight + clipY;\n                    }\n                    if (location.y + this.arrowPadding + height > boundsY + bounds.height) {\n                        location.y = Math.min(symbolLocation.y, boundsY + bounds.height) + clipY\n                            - this.elementSize.height - (2 * this.padding) - markerHeight - this.arrowPadding;\n                    }\n                    tipLocation.x = width / 2;\n                    if (location.x < boundsX) {\n                        tipLocation.x -= (boundsX - location.x);\n                        arrowLocation.x -= (boundsX - location.x);\n                        location.x = boundsX;\n                    }\n                    if (location.x + width > bounds.width + boundsX) {\n                        arrowLocation.x += ((location.x + width) - (bounds.width + boundsX));\n                        tipLocation.x += ((location.x + width) - (bounds.width + boundsX));\n                        location.x -= ((location.x + width) - (bounds.width + boundsX));\n                    }\n                    if ((this.arrowPadding) + arrowLocation.x > width - this.rx) {\n                        tipLocation.x = width - this.rx - (this.arrowPadding);\n                        arrowLocation.x = width - this.rx - (this.arrowPadding);\n                    }\n                    if (arrowLocation.x - (this.arrowPadding) < this.rx) {\n                        arrowLocation.x = tipLocation.x = this.rx + (this.arrowPadding);\n                    }\n                }\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    Tooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n        var _this = this;\n        var x = parseFloat(tooltipDiv.style.left);\n        var y = parseFloat(tooltipDiv.style.top);\n        var duration = (this.duration === 0 && animationMode === 'Enable') ? 300 : this.duration;\n        if ((this.controlName === 'Chart' && this.shared) && !this.enableRTL) {\n            var transformValues = this.element.style.transform.split(/[(),\\s]+/);\n            x = parseFloat(transformValues[1]);\n            y = parseFloat(transformValues[2]);\n            tooltipDiv.style.transition = 'transform ' + duration + 'ms ease';\n        }\n        var currenDiff;\n        new Animation({}).animate(tooltipDiv, {\n            duration: duration,\n            progress: function (args) {\n                currenDiff = (args.timeStamp / args.duration);\n                tooltipDiv.style.animation = null;\n                if ((_this.controlName === 'Chart' && _this.shared) && !_this.enableRTL) {\n                    tooltipDiv.style.transform = 'translate(' + (x + (rect.x - x)) + 'px,' + (y + rect.y - y) + 'px)';\n                    tooltipDiv.style.left = '';\n                    tooltipDiv.style.top = '';\n                }\n                else if (_this.controlName === 'Chart' && _this.showNearestTooltip) {\n                    tooltipDiv.style.transition = 'left ' + args.duration + 'ms ease-out, top ' + args.duration + 'ms ease-out';\n                    tooltipDiv.style.left = rect.x + 'px';\n                    tooltipDiv.style.top = rect.y + 'px';\n                }\n                else {\n                    tooltipDiv.style.left = (x + currenDiff * (rect.x - x)) + 'px';\n                    tooltipDiv.style.top = (y + currenDiff * (rect.y - y)) + 'px';\n                    tooltipDiv.style.transform = _this.controlName === 'RangeNavigator' ? tooltipDiv.style.transform : '';\n                }\n            },\n            end: function (model) {\n                _this.updateDiv(tooltipDiv, rect.x, rect.y);\n                _this.trigger('animationComplete', { tooltip: _this });\n            }\n        });\n    };\n    Tooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n        if ((this.controlName === 'Chart' && this.shared && !this.crosshair) && !this.enableRTL) {\n            tooltipDiv.style.transform = 'translate(' + x + 'px,' + y + 'px)';\n            tooltipDiv.style.left = '';\n            tooltipDiv.style.top = '';\n        }\n        else {\n            tooltipDiv.style.left = x + 'px';\n            tooltipDiv.style.top = y + 'px';\n            tooltipDiv.style.transform = this.controlName === 'RangeNavigator' ? tooltipDiv.style.transform : '';\n        }\n    };\n    Tooltip.prototype.updateTemplateFn = function () {\n        if (this.template) {\n            try {\n                if (typeof this.template !== 'function' && document.querySelectorAll(this.template).length) {\n                    this.templateFn = templateComplier(document.querySelector(this.template).innerHTML.trim());\n                }\n                else {\n                    this.templateFn = templateComplier(this.template);\n                }\n            }\n            catch (e) {\n                this.templateFn = templateComplier(this.template);\n            }\n        }\n    };\n    /** @private */\n    Tooltip.prototype.fadeOut = function () {\n        var _this = this;\n        var tooltipElement = (this.isCanvas && !this.template) ? getElement(this.element.id + '_svg') :\n            getElement(this.element.id);\n        var tooltipDiv = getElement(this.element.id);\n        if (tooltipElement) {\n            var tooltipGroup_1 = tooltipElement.firstChild;\n            if (tooltipGroup_1.nodeType !== Node.ELEMENT_NODE) {\n                tooltipGroup_1 = tooltipElement.firstElementChild;\n            }\n            if (this.isCanvas && !this.template) {\n                tooltipGroup_1 = document.getElementById(this.element.id + '_group') ? document.getElementById(this.element.id + '_group') :\n                    tooltipGroup_1;\n            }\n            if (!tooltipGroup_1) {\n                return null;\n            }\n            var opacity_1 = parseFloat(tooltipGroup_1.getAttribute('opacity'));\n            opacity_1 = !isNullOrUndefined(opacity_1) ? opacity_1 : 1;\n            new Animation({}).animate(tooltipGroup_1, {\n                duration: 200,\n                progress: function (args) {\n                    //  tooltipGroup.removeAttribute('e-animate');\n                    _this.progressAnimation(tooltipGroup_1, opacity_1, (args.timeStamp / args.duration));\n                },\n                end: function () {\n                    _this.fadeOuted = true;\n                    _this.endAnimation(tooltipGroup_1);\n                    tooltipDiv.style.transition = '';\n                }\n            });\n        }\n    };\n    Tooltip.prototype.progressAnimation = function (tooltipGroup, opacity, timeStamp) {\n        tooltipGroup.style.animation = '';\n        tooltipGroup.setAttribute('opacity', (opacity - timeStamp).toString());\n    };\n    /*\n     * @hidden\n     */\n    Tooltip.prototype.endAnimation = function (tooltipGroup) {\n        tooltipGroup.setAttribute('opacity', '0');\n        if (this.template) {\n            tooltipGroup.style.display = 'none';\n        }\n        this.trigger('animationComplete', { tooltip: this });\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        var keyEntity = [];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Get component name\n     *\n     *  @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * To destroy the accumulationcharts\n     *\n     * @private\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-tooltip');\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.blazorTemplate) {\n            resetBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate');\n        }\n        this.isFirst = false;\n        this.render();\n    };\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"shared\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"crosshair\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableShadow\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Property('')\n    ], Tooltip.prototype, \"header\", void 0);\n    __decorate([\n        Property(0.75)\n    ], Tooltip.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({ size: '12px', fontWeight: null, color: null, fontStyle: 'Normal', fontFamily: null }, TextStyle)\n    ], Tooltip.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property(300)\n    ], Tooltip.prototype, \"duration\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"inverted\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isNegative\", void 0);\n    __decorate([\n        Complex({ color: null, width: null }, TooltipBorder)\n    ], Tooltip.prototype, \"border\", void 0);\n    __decorate([\n        Property([])\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property(10)\n    ], Tooltip.prototype, \"markerSize\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, ToolLocation)\n    ], Tooltip.prototype, \"clipBounds\", void 0);\n    __decorate([\n        Property([])\n    ], Tooltip.prototype, \"palette\", void 0);\n    __decorate([\n        Property([])\n    ], Tooltip.prototype, \"shapes\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, ToolLocation)\n    ], Tooltip.prototype, \"location\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offset\", void 0);\n    __decorate([\n        Property(4)\n    ], Tooltip.prototype, \"rx\", void 0);\n    __decorate([\n        Property(4)\n    ], Tooltip.prototype, \"ry\", void 0);\n    __decorate([\n        Property(5)\n    ], Tooltip.prototype, \"marginX\", void 0);\n    __decorate([\n        Property(5)\n    ], Tooltip.prototype, \"marginY\", void 0);\n    __decorate([\n        Property(7)\n    ], Tooltip.prototype, \"arrowPadding\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"data\", void 0);\n    __decorate([\n        Property('Material')\n    ], Tooltip.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0, width: 0, height: 0 }, AreaBounds)\n    ], Tooltip.prototype, \"areaBounds\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"availableSize\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"blazorTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isCanvas\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isTextWrap\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isFixed\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"tooltipPlacement\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"controlInstance\", void 0);\n    __decorate([\n        Property('')\n    ], Tooltip.prototype, \"controlName\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"showNearestTooltip\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRTL\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"allowHighlight\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showHeaderLine\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}